{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/inversify/lib/inversify.js","webpack:///./node_modules/@urbandevs/mario-core/dist/src/index.js","webpack:///./node_modules/inversify/lib/utils/serialization.js","webpack:///./node_modules/@urbandevs/mario-urls-safe-check/dist/UrlsSafeCheckTypes.js","webpack:///./app/content/safecheck-notification/IframeEvents.ts","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/@urbandevs/mario-core/dist/src/Core/MarioEvent.js","webpack:///./node_modules/inversify/lib/syntax/binding_on_syntax.js","webpack:///./node_modules/inversify/lib/syntax/binding_when_syntax.js","webpack:///./node_modules/inversify/lib/constants/metadata_keys.js","webpack:///./node_modules/@urbandevs/mario-core/dist/src/Packages/Tab/Bg/TabService.js","webpack:///./node_modules/guid-typescript/dist/guid.js","webpack:///./node_modules/@urbandevs/mario-core/dist/src/BrowserEnum.js","webpack:///./node_modules/inversify/lib/planning/metadata_reader.js","webpack:///./node_modules/inversify/lib/utils/exceptions.js","webpack:///./node_modules/inversify/lib/annotation/inject.js","webpack:///./node_modules/inversify/lib/planning/target.js","webpack:///./node_modules/inversify/lib/syntax/binding_when_on_syntax.js","webpack:///./node_modules/inversify/lib/syntax/constraint_helpers.js","webpack:///./node_modules/@urbandevs/mario-core/dist/src/Packages/InternalDispatcher/Bg/InternalDispatcher.js","webpack:///./node_modules/inversify/lib/constants/error_msgs.js","webpack:///./node_modules/@urbandevs/mario-core/dist/src/Packages/Logger/Bg/LoggerService.js","webpack:///./node_modules/@urbandevs/mario-core/dist/src/Packages/Tab/Bg/TabServiceEvents.js","webpack:///./node_modules/@urbandevs/mario-core/dist/src/Packages/ExternalDispatcher/Bg/ExternalDispatcher.js","webpack:///./node_modules/@urbandevs/mario-core/dist/src/Packages/ContentDispatcher/Bg/ContentDispatcherService.js","webpack:///./app/content/safecheck-notification/content.ts","webpack:///./app/content/safecheck-notification/notification.ts","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/@urbandevs/mario-core/dist/src/Packages/ExternalDispatcher/Bg/ExternalDispatcherEvents.js","webpack:///./node_modules/@urbandevs/mario-core/dist/src/MARIO_TYPES.js","webpack:///./node_modules/@urbandevs/mario-core/dist/src/Packages/Navigation/Bg/NavigationService.js","webpack:///./node_modules/@urbandevs/mario-urls-safe-check/dist/UrlsSafeCheckEvents.js","webpack:///./node_modules/@urbandevs/mario-google-analytics/dist/GoogleAnalyticsEvents.js","webpack:///./node_modules/@urbandevs/mario-core/dist/src/Mario.js","webpack:///./node_modules/reflect-metadata/Reflect.js","webpack:///./node_modules/inversify/lib/container/container.js","webpack:///./node_modules/inversify/lib/bindings/binding.js","webpack:///./node_modules/inversify/lib/planning/planner.js","webpack:///./node_modules/inversify/lib/bindings/binding_count.js","webpack:///./node_modules/inversify/lib/planning/context.js","webpack:///./node_modules/inversify/lib/planning/metadata.js","webpack:///./node_modules/inversify/lib/planning/plan.js","webpack:///./node_modules/inversify/lib/planning/reflection_utils.js","webpack:///./node_modules/inversify/lib/planning/queryable_string.js","webpack:///./node_modules/inversify/lib/planning/request.js","webpack:///./node_modules/inversify/lib/resolution/resolver.js","webpack:///./node_modules/inversify/lib/resolution/instantiation.js","webpack:///./node_modules/inversify/lib/syntax/binding_to_syntax.js","webpack:///./node_modules/inversify/lib/syntax/binding_in_when_on_syntax.js","webpack:///./node_modules/inversify/lib/syntax/binding_in_syntax.js","webpack:///./node_modules/inversify/lib/container/container_snapshot.js","webpack:///./node_modules/inversify/lib/container/lookup.js","webpack:///./node_modules/inversify/lib/container/container_module.js","webpack:///./node_modules/inversify/lib/annotation/injectable.js","webpack:///./node_modules/inversify/lib/annotation/tagged.js","webpack:///./node_modules/inversify/lib/annotation/named.js","webpack:///./node_modules/inversify/lib/annotation/optional.js","webpack:///./node_modules/inversify/lib/annotation/unmanaged.js","webpack:///./node_modules/inversify/lib/annotation/multi_inject.js","webpack:///./node_modules/inversify/lib/annotation/target_name.js","webpack:///./node_modules/inversify/lib/annotation/post_construct.js","webpack:///./node_modules/inversify/lib/constants/literal_types.js","webpack:///./node_modules/inversify/lib/utils/binding_utils.js","webpack:///./node_modules/@urbandevs/mario-core/dist/src/Packages/InternalDispatcher/Bg/Exceptions/InternalDispatcherListenerIsNotRegisteredException.js","webpack:///./node_modules/@urbandevs/mario-core/dist/src/Packages/InternalDispatcher/Bg/Exceptions/InternalDispatcherException.js","webpack:///./node_modules/json-stringify-safe/stringify.js","webpack:///./node_modules/@urbandevs/mario-core/dist/src/Core/Exceptions/CoreServiceIsNotRegisteredException.js","webpack:///./node_modules/@urbandevs/mario-core/dist/src/Core/Exceptions/CoreException.js","webpack:///./node_modules/@urbandevs/mario-core/dist/src/Core/Extension.js","webpack:///./node_modules/@urbandevs/mario-core/dist/src/Packages/ExternalDispatcher/Bg/Exceptions/ExternalDispatcherListenerIsNotFoundException.js","webpack:///./node_modules/@urbandevs/mario-core/dist/src/Packages/ExternalDispatcher/Bg/Exceptions/ExternalDispatcherException.js","webpack:///./node_modules/@urbandevs/mario-core/dist/src/Core/MarioModule.js","webpack:///./node_modules/inversify/lib/annotation/decorator_utils.js","webpack:///./node_modules/@urbandevs/mario-core/dist/src/Packages/Cache/Bg/CacheService.js","webpack:///./node_modules/@urbandevs/mario-core/dist/src/Packages/Cache/Bg/CacheEvents.js","webpack:///./node_modules/@urbandevs/mario-core/dist/src/Packages/Navigation/Bg/NavigationServiceEvents.js","webpack:///./node_modules/@urbandevs/mario-core/dist/src/Packages/WebRequest/Bg/WebRequestService.js","webpack:///./node_modules/@urbandevs/mario-core/dist/src/Packages/WebRequest/Bg/WebRequestServiceEvents.js","webpack:///./node_modules/@urbandevs/mario-core/dist/src/Packages/StorageService/Bg/StorageService.js","webpack:///./node_modules/inversify/lib/utils/id.js","webpack:///./node_modules/@urbandevs/mario-google-analytics/dist/GoogleAnalyticsContentDispatcher.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","keys","METADATA_KEY","container_1","Container","literal_types_1","BindingScopeEnum","BindingTypeEnum","TargetTypeEnum","container_module_1","AsyncContainerModule","ContainerModule","injectable_1","injectable","tagged_1","tagged","named_1","named","inject_1","inject","LazyServiceIdentifer","optional_1","optional","unmanaged_1","unmanaged","multi_inject_1","multiInject","target_name_1","targetName","post_construct_1","postConstruct","metadata_reader_1","MetadataReader","id_1","id","decorator_utils_1","decorate","constraint_helpers_1","traverseAncerstors","taggedConstraint","namedConstraint","typeConstraint","serialization_1","getServiceIdentifierAsString","binding_utils_1","multiBindToService","Mario_1","Mario","MarioModule_1","MarioModule","MarioEvent_1","MarioEvent","MARIO_TYPES_1","MARIO_TYPES","ExternalDispatcher_1","ExternalDispatcher","CacheService_1","CacheService","ContentDispatcherService_1","ContentDispatcherService","InternalDispatcher_1","InternalDispatcher","LoggerService_1","LoggerService","TabService_1","TabService","NavigationService_1","NavigationService","WebRequestService_1","WebRequestService","StorageService_1","StorageService","ERROR_MSGS","serviceIdentifier","toString","getFunctionName","v","name_1","match","listRegisteredBindingsForServiceIdentifier","container","getBindings","registeredBindingsList","registeredBindings","length","forEach","binding","implementationType","constraint","metaData","circularDependencyToException","request","childRequests","childRequest","alreadyDependencyChain","parentRequest","services","_createStringArr","req","result","push","reverse","join","dependencyChainToString","Error","CIRCULAR_DEPENDENCY","listMetadataForTarget","serviceIdentifierString","target","isTagged","isNamed","m_1","namedTag","getNamedTag","otherTags","getCustomTags","tag","MODE","STATUS","UrlsSafeCheckTypes","USC_STATE_SERVICE","for","USC_CHECK_SERVICE","USC_DATA_SERVICE","USC_REQUEST_SERVICE","USC_TAB_EVENTS_PROCESS_SERVICE","USC_STATE_DATA_SERVICE","USC_QUEUE_SERVICE","USC_ENABLED","USC_INIT_MODE","USC_ENDPOINT_DOMAIN","USC_PANELLIST_ID","USC_PANEL_ID","USC_PARTNER_ID","USC_DISTRIBUTOR_ID","USC_TRACK_LOADING_STATE","USC_LOGGING","IframeEvents","g","this","Function","e","window","guid_typescript_1","event","data","Guid","binding_when_syntax_1","BindingOnSyntax","_binding","onActivation","handler","BindingWhenSyntax","binding_on_syntax_1","when","whenTargetNamed","whenTargetIsDefault","whenTargetTagged","whenInjectedInto","parent","whenParentNamed","whenParentTagged","whenAnyAncestorIs","ancestor","whenNoAncestorIs","whenAnyAncestorNamed","whenNoAncestorNamed","whenAnyAncestorTagged","whenNoAncestorTagged","whenAnyAncestorMatches","whenNoAncestorMatches","NAMED_TAG","NAME_TAG","UNMANAGED_TAG","OPTIONAL_TAG","INJECT_TAG","MULTI_INJECT_TAG","TAGGED","TAGGED_PROP","PARAM_TYPES","DESIGN_PARAM_TYPES","POST_CONSTRUCT","__decorate","decorators","desc","arguments","getOwnPropertyDescriptor","Reflect","__metadata","k","metadata","__param","paramIndex","decorator","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","done","then","apply","inversify_1","index_1","TabServiceEvents_1","dispatcherService","isListenOnCreated","isListenOnUpdated","isListenOnMoved","isListenOnActivated","isListenOnHighlighted","isListenOnDetached","isListenOnAttached","isListenOnRemoved","isListenOnReplaced","isListenOnZoomChange","chrome","tabs","onCreated","addListener","tab","TabServiceEvents","ON_TAB_CREATED","emit","onUpdated","tabId","changeInfo","ON_TAB_UPDATED","onMoved","moveInfo","ON_TAB_MOVED","onActivated","activeInfo","ON_TAB_ACTIVATED","onHighlighted","highlightInfo","ON_TAB_HIGHLIGHTED","onDetached","detachInfo","ON_TAB_DETACHED","onAttached","attachInfo","ON_TAB_ATTACHED","onRemoved","removeInfo","ON_TAB_REMOVED","onReplaced","addedTabId","removedTabId","ON_TAB_REPLACED","onZoomChange","zoomChangeInfo","ON_TAB_ZOOM_CHANGE","message","sendMessage","runtime","lastError","queryInfo","query","reloadProperties","reload","properties","getCurrent","duplicate","highlight","updateProperties","update","moveProperties","move","remove","INTERNAL_DISPATCHER","guid","TypeError","EMPTY","isGuid","validator","test","gen","createEmpty","parse","raw","count","out","Math","random","substring","equals","other","isEmpty","toJSON","RegExp","BrowserEnum","getConstructorMetadata","constructorFunc","compilerGeneratedMetadata","getMetadata","userGeneratedMetadata","getPropertiesMetadata","isStackOverflowExeption","error","RangeError","STACK_OVERFLOW","error_msgs_1","metadata_1","cb","_cb","unwrap","targetKey","index","undefined","UNDEFINED_INJECT_ANNOTATION","Metadata","tagParameter","tagProperty","queryable_string_1","Target","type","namedOrTagged","QueryableString","Array","metadataItem","hasTag","_i","_a","isArray","matchesArray","matchesTag","some","isOptional","filter","matchesNamedTag","_this","BindingWhenOnSyntax","_bindingWhenSyntax","_bindingOnSyntax","bindings","constructor","InternalDispatcherListenerIsNotRegisteredException_1","loggerService","counter","listeners","listenersIndex","getEventListeners","promises","listener","promise","handle","all","useClass","toSelf","inSingletonScope","eventName","on","log","hasEventListeners","hasListener","InternalDispatcherListenerIsNotRegisteredException","listenerId","CONTAINER","LOGGER_SERVICE","DUPLICATED_INJECTABLE_DECORATOR","DUPLICATED_METADATA","NULL_ARGUMENT","KEY_NOT_FOUND","AMBIGUOUS_MATCH","CANNOT_UNBIND","NOT_REGISTERED","MISSING_INJECTABLE_ANNOTATION","MISSING_INJECT_ANNOTATION","NOT_IMPLEMENTED","INVALID_BINDING_TYPE","NO_MORE_SNAPSHOTS_AVAILABLE","INVALID_MIDDLEWARE_RETURN","INVALID_FUNCTION_BINDING","INVALID_TO_SELF_VALUE","INVALID_DECORATOR_OPERATION","ARGUMENTS_LENGTH_MISMATCH","values","CONTAINER_OPTIONS_MUST_BE_AN_OBJECT","CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE","CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE","CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK","MULTIPLE_POST_CONSTRUCT_METHODS","POST_CONSTRUCT_ERROR","CIRCULAR_DEPENDENCY_IN_FACTORY","stringify","onLogListeners","onEventListeners","onErrorListeners","onWarnListeners","onFilterLogListeners","args","output","time","color","LIGHT_BLUE_COLOR","fontWeight","BLACK_COLOR","argsOutput","cleanOutput","prepareOutput","filterInfo","console","handleOnLogListeners","LIGHT_GREEN_COLOR","handleOnEventListeners","RED_COLOR","handleOnWarnListeners","handleOnErrorListeners","callback","date","Date","getTimezoneOffset","pad","getDate","getMonth","getFullYear","getHours","getMinutes","getSeconds","getMilliseconds","str","width","z","char","replace","ExternalDispatcherEvents_1","ExternalDispatcherListenerIsNotFoundException_1","tabService","onMessage","sender","response","internalEmit","ExternalDispatcherEvents","ON_ANY_MESSAGE","isEventMessage","scope","validateContainer","addEventListener","hasListeners","ExternalDispatcherListenerIsNotFoundException","sendResponse","TAB_SERVICE","notification_1","GoogleAnalyticsContentDispatcher_1","googleAnalytics","GoogleAnalyticsContentDispatcher","NotificationService","src_1","UrlsSafeCheckEvents_1","UrlsSafeCheckTypes_1","IframeEvents_1","dispatcher","onIframeMessage","UrlsSafeCheckEvents","SAFE_STATUS_UPDATED","status","notificationMuted","UNSAFE","showUnsafePopup","CLOSE","hideUnsafePopup","GOTO_URL","location","url","trackEvent","category","action","getIframeElement","injectIframeDynamic","err","element","iFrame","document","createElement","style","height","position","top","right","zIndex","borderRadius","boxShadow","backgroundColor","border","src","extension","getURL","body","insertBefore","firstChild","getElementById","cachedSetTimeout","cachedClearTimeout","process","defaultSetTimout","defaultClearTimeout","runTimeout","fun","setTimeout","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","concat","drainQueue","timeout","len","run","marker","runClearTimeout","Item","array","noop","nextTick","title","browser","env","argv","version","versions","once","off","removeListener","removeAllListeners","prependListener","prependOnceListener","cwd","chdir","dir","umask","ALARM_SERVICE","BROWSER","BROWSER_ACTION","CACHE_SERVICE","LOCAL_STORAGE_SERVICE","STORAGE_SERVICE","NAVIGATION_SERVICE","WEB_REQUEST_SERVICE","PROXY_SERVICE","EXTENSION_SERVICE","EXTERNAL_DISPATCHER","OMNIBOX_SERVICE","WINDOW_POST","MANAGEMENT","NavigationServiceEvents_1","isListenOnBeforeNavigate","isListenOnCommitted","isListenOnDOMContentLoaded","isListenOnCompleted","isListenOnErrorOccurred","isListenOnCreatedNavigationTarget","isListenOnReferenceFragmentUpdated","isListenOnTabReplaced","isListenOnHistoryStateUpdated","webNavigation","onBeforeNavigate","details","NavigationServiceEvents","NAVIGATION_ON_BEFORE_NAVIGATE","onCommitted","NAVIGATION_ON_COMMITTED","onDOMContentLoaded","NAVIGATION_ON_DOM_CONTENT_LOADED","onCompleted","NAVIGATION_ON_COMPLETED","onErrorOccurred","NAVIGATION_ON_ERROR_OCCURRED","onCreatedNavigationTarget","NAVIGATION_ON_CREATED_NAVIGATION_TARGET","onReferenceFragmentUpdated","NAVIGATION_ON_REFERENCE_FRAGMNENT_UPDATED","onTabReplaced","NAVIGATION_ON_TAB_REPLACED","onHistoryStateUpdated","NAVIGATION_ON_HISTORY_STATE_UPDATED","getFrame","frame","getAllFrames","frames","GoogleAnalyticsEvents","CoreServiceIsNotRegisteredException_1","Extension_1","options","isInitialized","_container","toConstantValue","logger","internalDispatcherService","internalDispatcher","externalDispatcherService","externalDispatcher","registerService","Extension","global","mario","coreInitialized","register","isCoreInitialized","hasService","to","warn","CoreServiceIsNotRegisteredException","isBound","getService","factory","root","self","exporter","makeExporter","previous","configurable","writable","hasOwn","supportsSymbol","toPrimitiveSymbol","toPrimitive","iteratorSymbol","iterator","supportsCreate","supportsProto","__proto__","downLevel","HashMap","MakeDictionary","has","map","functionPrototype","getPrototypeOf","usePolyfill","_Map","Map","entries","cacheSentinel","arraySentinel","MapIterator","selector","_index","_keys","_values","_selector","throw","return","_cacheKey","_cacheIndex","_find","set","delete","size","clear","getKey","getValue","getEntry","insert","indexOf","_","CreateMapPolyfill","_Set","Set","_map","add","WeakMap","rootKey","CreateUniqueKey","_key","table","GetOrCreateWeakMapTable","CreateUUID","FillRandomBytes","buffer","Uint8Array","crypto","getRandomValues","msCrypto","offset","byte","toLowerCase","CreateWeakMapPolyfill","GetOrCreateMetadataMap","O","Create","targetMetadata","IsUndefined","metadataMap","OrdinaryHasOwnMetadata","MetadataKey","OrdinaryGetOwnMetadata","OrdinaryDefineOwnMetadata","MetadataValue","OrdinaryOwnMetadataKeys","obj","method","GetMethod","IsCallable","IsObject","GetIterator","IteratorStep","nextValue","IteratorClose","Type","x","IsNull","ToPrimitive","input","PreferredType","hint","exoticToPrim","toString_1","valueOf","toString_2","OrdinaryToPrimitive","ToPropertyKey","argument","ToString","IsArray","IsConstructor","V","func","f","OrdinaryGetPrototypeOf","proto","prototypeProto","__","propertyKey","attributes","decorated","DecorateConstructor","descriptor","DecorateProperty","metadataKey","metadataValue","IsPropertyKey","OrdinaryHasMetadata","OrdinaryGetMetadata","OrdinaryMetadataKeys","ownKeys","parentKeys","ownKeys_1","parentKeys_1","__generator","y","label","sent","trys","ops","verb","op","pop","binding_1","planner_1","resolver_1","binding_to_syntax_1","container_snapshot_1","lookup_1","containerOptions","defaultScope","Transient","Singleton","Request","autoBindInjectable","skipBaseClassChecks","_bindingDictionary","Lookup","_snapshots","_middleware","_metadataReader","merge","container1","container2","bindingDictionary","getBindingDictionary","bindingDictionary1","bindingDictionary2","copyDictionary","origin","destination","traverse","clone","load","getHelpers","_getContainerModuleHelpersFactory","modules_1","currentModule","containerModuleHelpers","registry","bindFunction","unbindFunction","isboundFunction","rebindFunction","loadAsync","modules_2","_b","unload","conditionFactory","expected","item","condition","removeByCondition","Binding","BindingToSyntax","rebind","unbind","unbindAll","bound","hasKey","isBoundNamed","isBoundTagged","request_1","createMockRequest","b","snapshot","ContainerSnapshot","of","restore","middleware","createChild","child","applyMiddleware","middlewares","initial","_planAndResolve","reduce","prev","curr","applyCustomMetadataReader","metadataReader","_get","Variable","getTagged","getNamed","getAll","getAllTagged","getAllNamed","constructorFunction","tempContainer","setModuleId","bindingToSyntax","getRebindFunction","_rebind","mId","_bind","_isBound","_unbind","avoidConstraints","isMultiInject","targetType","defaultArgs","contextInterceptor","context","plan","activated","Invalid","cache","provider","dynamicValue","binding_count_1","exceptions_1","context_1","plan_1","reflection_utils_1","target_1","cntnr","_getActiveBindings","activeBindings","BindingCount","NoBindingsAvailable","msg","OnlyOneBindingAvailable","MultipleBindingsAvailable","_validateActiveBindingCount","Context","injectMetadata","tagMetadata","_createTarget","_createSubRequests","thePlan","Plan","addPlan","addChildRequest","subChildRequest","Instance","dependencies","getDependencies","baseClassDependencyCount","getBaseClassDependencyCount","dependency","rootRequest","setCurrentRequest","currentRequest","parentContext","getTargets","constructorName","isBaseClass","serviceIdentifiers","constructorArgsMetadata","constructorTargets","iterations","targets","getConstructorArgsAsTarget","getConstructorArgsAsTargets","propertyTargets","getClassPropsAsTargets","classPropsMetadata","keys_1","formatTargetMetadata","ClassProperty","baseConstructor","baseTargets","isManaged","injectIdentifier","ConstructorArgument","targetMetadataMap","unmanagedCount","dependencyCount","startsWith","searchString","endsWith","reverseString","reverseSearchString","split","contains","compareString","requestScope","instantiation_1","invokeFactory","factoryType","fn","_resolveRequest","targetIsAnArray","targetParentIsNotAnArray","_f","isSingleton","isRequestSingleton","ConstantValue","Constructor","DynamicValue","Factory","Provider","resolveInstance","constr","resolveRequest","Func","injections","constructorInjections","instance","propertyInjectionsRequests","propertyInjections","propertyName","injection","_injectProperties","hasMetadata","_postConstruct","binding_in_when_on_syntax_1","binding_when_on_syntax_1","BindingInWhenOnSyntax","toDynamicValue","toConstructor","toFactory","toFunction","bindingWhenOnSyntax","toAutoFactory","toProvider","toService","service","binding_in_syntax_1","_bindingInSyntax","BindingInSyntax","inRequestScope","inTransientScope","getMap","entry","updatedEntries","copy","ERRORS_MSGS","hasOwnMetadata","types","defineMetadata","InternalDispatcherException_1","InternalDispatcherException","serializer","replacer","cycleReplacer","stack","slice","thisPos","splice","Infinity","spaces","JSON","getSerialize","CoreException_1","CoreException","browserEnum","isOnInstalledFired","onInstalled","installedDetails","handleOnInstall","setUninstallURL","getManifest","String","ExternalDispatcherException_1","ExternalDispatcherException","_core","_tagParameterOrProperty","annotationTarget","parameterIndex","paramsOrPropertiesMetadata","isParameterDecorator","paramOrPropertyMetadata","paramOrPropertyMetadata_1","_decorate","_param","CacheEvents_1","CacheEvents","BEFORE_CLEAR_CACHE","cacheRemoveAll","AFTER_CLEAR_CACHE","browsingData","removeCache","EVENT_BEFORE_CLEAR_CACHE","EVENT_AFTER_CLEAR_CACHE","WebRequestServiceEvents_1","isListenOnBeforeRequest","isListenOnBeforeSendHeaders","isListenOnSendHeaders","isListenOnHeadersReceived","isListenOnAuthRequired","isListenOnResponseStarted","isListenOnBeforeRedirect","isListenOnActionIgnored","opt_extraInfoSpec","webRequest","onBeforeRequest","WebRequestServiceEvents","WEB_REQUEST_ON_BEFORE_REQUEST","onBeforeSendHeaders","WEB_REQUEST_ON_BEFORE_SEND_HEADERS","onSendHeaders","WEB_REQUEST_ON_SEND_HEADERS","onHeadersReceived","WEB_REQUEST_ON_HEADERS_RECEIVED","onAuthRequired","WEB_REQUEST_ON_AUTH_REQUIRED","onResponseStarted","WEB_REQUEST_ON_RESPONSE_STARTED","onBeforeRedirect","WEB_REQUEST_ON_BEFORE_REDIRECT","WEB_REQUEST_ON_COMPLETED","WEB_REQUEST_ON_ERROR_OCCURRED","onActionIgnored","WEB_REQUEST_ON_ACTION_IGNORED","handlerBehaviorChanged","storage","local","idCounter","GoogleAnalyticsEvents_1","TRACK_PAGE","TRACK_EVENT"],"mappings":"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","file":"content/safecheck-notification/content.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 373);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar keys = require(\"./constants/metadata_keys\");\nexports.METADATA_KEY = keys;\nvar container_1 = require(\"./container/container\");\nexports.Container = container_1.Container;\nvar literal_types_1 = require(\"./constants/literal_types\");\nexports.BindingScopeEnum = literal_types_1.BindingScopeEnum;\nexports.BindingTypeEnum = literal_types_1.BindingTypeEnum;\nexports.TargetTypeEnum = literal_types_1.TargetTypeEnum;\nvar container_module_1 = require(\"./container/container_module\");\nexports.AsyncContainerModule = container_module_1.AsyncContainerModule;\nexports.ContainerModule = container_module_1.ContainerModule;\nvar injectable_1 = require(\"./annotation/injectable\");\nexports.injectable = injectable_1.injectable;\nvar tagged_1 = require(\"./annotation/tagged\");\nexports.tagged = tagged_1.tagged;\nvar named_1 = require(\"./annotation/named\");\nexports.named = named_1.named;\nvar inject_1 = require(\"./annotation/inject\");\nexports.inject = inject_1.inject;\nexports.LazyServiceIdentifer = inject_1.LazyServiceIdentifer;\nvar optional_1 = require(\"./annotation/optional\");\nexports.optional = optional_1.optional;\nvar unmanaged_1 = require(\"./annotation/unmanaged\");\nexports.unmanaged = unmanaged_1.unmanaged;\nvar multi_inject_1 = require(\"./annotation/multi_inject\");\nexports.multiInject = multi_inject_1.multiInject;\nvar target_name_1 = require(\"./annotation/target_name\");\nexports.targetName = target_name_1.targetName;\nvar post_construct_1 = require(\"./annotation/post_construct\");\nexports.postConstruct = post_construct_1.postConstruct;\nvar metadata_reader_1 = require(\"./planning/metadata_reader\");\nexports.MetadataReader = metadata_reader_1.MetadataReader;\nvar id_1 = require(\"./utils/id\");\nexports.id = id_1.id;\nvar decorator_utils_1 = require(\"./annotation/decorator_utils\");\nexports.decorate = decorator_utils_1.decorate;\nvar constraint_helpers_1 = require(\"./syntax/constraint_helpers\");\nexports.traverseAncerstors = constraint_helpers_1.traverseAncerstors;\nexports.taggedConstraint = constraint_helpers_1.taggedConstraint;\nexports.namedConstraint = constraint_helpers_1.namedConstraint;\nexports.typeConstraint = constraint_helpers_1.typeConstraint;\nvar serialization_1 = require(\"./utils/serialization\");\nexports.getServiceIdentifierAsString = serialization_1.getServiceIdentifierAsString;\nvar binding_utils_1 = require(\"./utils/binding_utils\");\nexports.multiBindToService = binding_utils_1.multiBindToService;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Mario_1 = require(\"./Mario\");\nexports.Mario = Mario_1.Mario;\nvar MarioModule_1 = require(\"./Core/MarioModule\");\nexports.MarioModule = MarioModule_1.MarioModule;\nvar MarioEvent_1 = require(\"./Core/MarioEvent\");\nexports.MarioEvent = MarioEvent_1.MarioEvent;\nvar MARIO_TYPES_1 = require(\"./MARIO_TYPES\");\nexports.MARIO_TYPES = MARIO_TYPES_1.MARIO_TYPES;\nvar ExternalDispatcher_1 = require(\"./Packages/ExternalDispatcher/Bg/ExternalDispatcher\");\nexports.ExternalDispatcher = ExternalDispatcher_1.ExternalDispatcher;\nvar CacheService_1 = require(\"./Packages/Cache/Bg/CacheService\");\nexports.CacheService = CacheService_1.CacheService;\nvar ContentDispatcherService_1 = require(\"./Packages/ContentDispatcher/Bg/ContentDispatcherService\");\nexports.ContentDispatcherService = ContentDispatcherService_1.ContentDispatcherService;\nvar InternalDispatcher_1 = require(\"./Packages/InternalDispatcher/Bg/InternalDispatcher\");\nexports.InternalDispatcher = InternalDispatcher_1.InternalDispatcher;\nvar LoggerService_1 = require(\"./Packages/Logger/Bg/LoggerService\");\nexports.LoggerService = LoggerService_1.LoggerService;\nvar TabService_1 = require(\"./Packages/Tab/Bg/TabService\");\nexports.TabService = TabService_1.TabService;\nvar NavigationService_1 = require(\"./Packages/Navigation/Bg/NavigationService\");\nexports.NavigationService = NavigationService_1.NavigationService;\nvar WebRequestService_1 = require(\"./Packages/WebRequest/Bg/WebRequestService\");\nexports.WebRequestService = WebRequestService_1.WebRequestService;\nvar StorageService_1 = require(\"./Packages/StorageService/Bg/StorageService\");\nexports.StorageService = StorageService_1.StorageService;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nfunction getServiceIdentifierAsString(serviceIdentifier) {\n    if (typeof serviceIdentifier === \"function\") {\n        var _serviceIdentifier = serviceIdentifier;\n        return _serviceIdentifier.name;\n    }\n    else if (typeof serviceIdentifier === \"symbol\") {\n        return serviceIdentifier.toString();\n    }\n    else {\n        var _serviceIdentifier = serviceIdentifier;\n        return _serviceIdentifier;\n    }\n}\nexports.getServiceIdentifierAsString = getServiceIdentifierAsString;\nfunction listRegisteredBindingsForServiceIdentifier(container, serviceIdentifier, getBindings) {\n    var registeredBindingsList = \"\";\n    var registeredBindings = getBindings(container, serviceIdentifier);\n    if (registeredBindings.length !== 0) {\n        registeredBindingsList = \"\\nRegistered bindings:\";\n        registeredBindings.forEach(function (binding) {\n            var name = \"Object\";\n            if (binding.implementationType !== null) {\n                name = getFunctionName(binding.implementationType);\n            }\n            registeredBindingsList = registeredBindingsList + \"\\n \" + name;\n            if (binding.constraint.metaData) {\n                registeredBindingsList = registeredBindingsList + \" - \" + binding.constraint.metaData;\n            }\n        });\n    }\n    return registeredBindingsList;\n}\nexports.listRegisteredBindingsForServiceIdentifier = listRegisteredBindingsForServiceIdentifier;\nfunction alreadyDependencyChain(request, serviceIdentifier) {\n    if (request.parentRequest === null) {\n        return false;\n    }\n    else if (request.parentRequest.serviceIdentifier === serviceIdentifier) {\n        return true;\n    }\n    else {\n        return alreadyDependencyChain(request.parentRequest, serviceIdentifier);\n    }\n}\nfunction dependencyChainToString(request) {\n    function _createStringArr(req, result) {\n        if (result === void 0) { result = []; }\n        var serviceIdentifier = getServiceIdentifierAsString(req.serviceIdentifier);\n        result.push(serviceIdentifier);\n        if (req.parentRequest !== null) {\n            return _createStringArr(req.parentRequest, result);\n        }\n        return result;\n    }\n    var stringArr = _createStringArr(request);\n    return stringArr.reverse().join(\" --> \");\n}\nfunction circularDependencyToException(request) {\n    request.childRequests.forEach(function (childRequest) {\n        if (alreadyDependencyChain(childRequest, childRequest.serviceIdentifier)) {\n            var services = dependencyChainToString(childRequest);\n            throw new Error(ERROR_MSGS.CIRCULAR_DEPENDENCY + \" \" + services);\n        }\n        else {\n            circularDependencyToException(childRequest);\n        }\n    });\n}\nexports.circularDependencyToException = circularDependencyToException;\nfunction listMetadataForTarget(serviceIdentifierString, target) {\n    if (target.isTagged() || target.isNamed()) {\n        var m_1 = \"\";\n        var namedTag = target.getNamedTag();\n        var otherTags = target.getCustomTags();\n        if (namedTag !== null) {\n            m_1 += namedTag.toString() + \"\\n\";\n        }\n        if (otherTags !== null) {\n            otherTags.forEach(function (tag) {\n                m_1 += tag.toString() + \"\\n\";\n            });\n        }\n        return \" \" + serviceIdentifierString + \"\\n \" + serviceIdentifierString + \" - \" + m_1;\n    }\n    else {\n        return \" \" + serviceIdentifierString;\n    }\n}\nexports.listMetadataForTarget = listMetadataForTarget;\nfunction getFunctionName(v) {\n    if (v.name) {\n        return v.name;\n    }\n    else {\n        var name_1 = v.toString();\n        var match = name_1.match(/^function\\s*([^\\s(]+)/);\n        return match ? match[1] : \"Anonymous function: \" + name_1;\n    }\n}\nexports.getFunctionName = getFunctionName;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MODE = exports.STATUS = exports.UrlsSafeCheckTypes = void 0;\nexports.UrlsSafeCheckTypes = {\n    USC_STATE_SERVICE: Symbol.for('USC_STATE_SERVICE'),\n    USC_CHECK_SERVICE: Symbol.for('USC_CHECK_SERVICE'),\n    USC_DATA_SERVICE: Symbol.for('USC_DATA_SERVICE'),\n    USC_REQUEST_SERVICE: Symbol.for('USC_REQUEST_SERVICE'),\n    USC_TAB_EVENTS_PROCESS_SERVICE: Symbol.for('USC_TAB_EVENTS_PROCESS_SERVICE'),\n    USC_STATE_DATA_SERVICE: Symbol.for('USC_STATE_DATA_SERVICE'),\n    USC_QUEUE_SERVICE: Symbol.for('USC_QUEUE_SERVICE'),\n    USC_ENABLED: Symbol.for('USC_ENABLED'),\n    USC_INIT_MODE: Symbol.for('USC_INIT_MODE'),\n    USC_ENDPOINT_DOMAIN: Symbol.for('USC_ENDPOINT_DOMAIN'),\n    USC_PANELLIST_ID: Symbol.for('USC_PANELLIST_ID'),\n    USC_PANEL_ID: Symbol.for('USC_PANEL_ID'),\n    USC_PARTNER_ID: Symbol.for('USC_PARTNER_ID'),\n    USC_DISTRIBUTOR_ID: Symbol.for('USC_DISTRIBUTOR_ID'),\n    USC_TRACK_LOADING_STATE: Symbol.for('USC_TRACK_LOADING_STATE'),\n    USC_LOGGING: Symbol.for('USC_LOGGING'),\n};\nvar STATUS;\n(function (STATUS) {\n    STATUS[\"NONE\"] = \"NONE\";\n    STATUS[\"SAFE\"] = \"SAFE\";\n    STATUS[\"UNSAFE\"] = \"UNSAFE\";\n    STATUS[\"UNKNOWN\"] = \"UNKNOWN\";\n})(STATUS = exports.STATUS || (exports.STATUS = {}));\nvar MODE;\n(function (MODE) {\n    MODE[\"BASIC\"] = \"BASIC\";\n    MODE[\"FULL\"] = \"FULL\";\n})(MODE = exports.MODE || (exports.MODE = {}));\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar IframeEvents;\r\n(function (IframeEvents) {\r\n    IframeEvents[\"CLOSE\"] = \"SAFESEARCH_CLOSE_NOTIFICATION_IFRAME\";\r\n    IframeEvents[\"GOTO_URL\"] = \"SAFESEARCH_GOTO_URL\";\r\n})(IframeEvents = exports.IframeEvents || (exports.IframeEvents = {}));\r\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst guid_typescript_1 = require(\"guid-typescript\");\nclass MarioEvent {\n    constructor(event, data, id) {\n        this.event = event;\n        this.data = data;\n        this.id = id ? id : guid_typescript_1.Guid.create().toString();\n    }\n}\nexports.MarioEvent = MarioEvent;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar binding_when_syntax_1 = require(\"./binding_when_syntax\");\nvar BindingOnSyntax = (function () {\n    function BindingOnSyntax(binding) {\n        this._binding = binding;\n    }\n    BindingOnSyntax.prototype.onActivation = function (handler) {\n        this._binding.onActivation = handler;\n        return new binding_when_syntax_1.BindingWhenSyntax(this._binding);\n    };\n    return BindingOnSyntax;\n}());\nexports.BindingOnSyntax = BindingOnSyntax;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar binding_on_syntax_1 = require(\"./binding_on_syntax\");\nvar constraint_helpers_1 = require(\"./constraint_helpers\");\nvar BindingWhenSyntax = (function () {\n    function BindingWhenSyntax(binding) {\n        this._binding = binding;\n    }\n    BindingWhenSyntax.prototype.when = function (constraint) {\n        this._binding.constraint = constraint;\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenTargetNamed = function (name) {\n        this._binding.constraint = constraint_helpers_1.namedConstraint(name);\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenTargetIsDefault = function () {\n        this._binding.constraint = function (request) {\n            var targetIsDefault = (request.target !== null) &&\n                (!request.target.isNamed()) &&\n                (!request.target.isTagged());\n            return targetIsDefault;\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenTargetTagged = function (tag, value) {\n        this._binding.constraint = constraint_helpers_1.taggedConstraint(tag)(value);\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenInjectedInto = function (parent) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.typeConstraint(parent)(request.parentRequest);\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenParentNamed = function (name) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.namedConstraint(name)(request.parentRequest);\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenParentTagged = function (tag, value) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.taggedConstraint(tag)(value)(request.parentRequest);\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenAnyAncestorIs = function (ancestor) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.typeConstraint(ancestor));\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenNoAncestorIs = function (ancestor) {\n        this._binding.constraint = function (request) {\n            return !constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.typeConstraint(ancestor));\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenAnyAncestorNamed = function (name) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.namedConstraint(name));\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenNoAncestorNamed = function (name) {\n        this._binding.constraint = function (request) {\n            return !constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.namedConstraint(name));\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenAnyAncestorTagged = function (tag, value) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.taggedConstraint(tag)(value));\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenNoAncestorTagged = function (tag, value) {\n        this._binding.constraint = function (request) {\n            return !constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.taggedConstraint(tag)(value));\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenAnyAncestorMatches = function (constraint) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.traverseAncerstors(request, constraint);\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenNoAncestorMatches = function (constraint) {\n        this._binding.constraint = function (request) {\n            return !constraint_helpers_1.traverseAncerstors(request, constraint);\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    return BindingWhenSyntax;\n}());\nexports.BindingWhenSyntax = BindingWhenSyntax;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NAMED_TAG = \"named\";\nexports.NAME_TAG = \"name\";\nexports.UNMANAGED_TAG = \"unmanaged\";\nexports.OPTIONAL_TAG = \"optional\";\nexports.INJECT_TAG = \"inject\";\nexports.MULTI_INJECT_TAG = \"multi_inject\";\nexports.TAGGED = \"inversify:tagged\";\nexports.TAGGED_PROP = \"inversify:tagged_props\";\nexports.PARAM_TYPES = \"inversify:paramtypes\";\nexports.DESIGN_PARAM_TYPES = \"design:paramtypes\";\nexports.POST_CONSTRUCT = \"post_construct\";\n","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst inversify_1 = require(\"inversify\");\nconst index_1 = require(\"../../../index\");\nconst MARIO_TYPES_1 = require(\"../../../MARIO_TYPES\");\nconst TabServiceEvents_1 = require(\"./TabServiceEvents\");\nlet TabService = class TabService {\n    constructor(dispatcherService) {\n        this.dispatcherService = dispatcherService;\n        this.isListenOnCreated = false;\n        this.isListenOnUpdated = false;\n        this.isListenOnMoved = false;\n        this.isListenOnActivated = false;\n        this.isListenOnHighlighted = false;\n        this.isListenOnDetached = false;\n        this.isListenOnAttached = false;\n        this.isListenOnRemoved = false;\n        this.isListenOnReplaced = false;\n        this.isListenOnZoomChange = false;\n    }\n    listenOnCreated() {\n        if (!this.isListenOnCreated) {\n            this.isListenOnCreated = true;\n            chrome.tabs.onCreated.addListener((tab) => {\n                const event = new index_1.MarioEvent(TabServiceEvents_1.TabServiceEvents.ON_TAB_CREATED, { tab });\n                this.dispatcherService.emit(event).then();\n            });\n        }\n    }\n    listenOnUpdated() {\n        if (!this.isListenOnUpdated) {\n            this.isListenOnUpdated = true;\n            chrome.tabs.onUpdated.addListener((tabId, changeInfo, tab) => {\n                const event = new index_1.MarioEvent(TabServiceEvents_1.TabServiceEvents.ON_TAB_UPDATED, { tabId, changeInfo, tab });\n                this.dispatcherService.emit(event).then();\n            });\n        }\n    }\n    listenOnMoved() {\n        if (!this.isListenOnMoved) {\n            this.isListenOnMoved = true;\n            chrome.tabs.onMoved.addListener((tabId, moveInfo) => {\n                const event = new index_1.MarioEvent(TabServiceEvents_1.TabServiceEvents.ON_TAB_MOVED, { tabId, moveInfo });\n                this.dispatcherService.emit(event).then();\n            });\n        }\n    }\n    listenOnActivated() {\n        if (!this.isListenOnActivated) {\n            this.isListenOnActivated = true;\n            chrome.tabs.onActivated.addListener((activeInfo) => {\n                const event = new index_1.MarioEvent(TabServiceEvents_1.TabServiceEvents.ON_TAB_ACTIVATED, { activeInfo });\n                this.dispatcherService.emit(event).then();\n            });\n        }\n    }\n    listenOnHighlighted() {\n        if (!this.isListenOnHighlighted) {\n            this.isListenOnHighlighted = true;\n            chrome.tabs.onHighlighted.addListener((highlightInfo) => {\n                const event = new index_1.MarioEvent(TabServiceEvents_1.TabServiceEvents.ON_TAB_HIGHLIGHTED, { highlightInfo });\n                this.dispatcherService.emit(event).then();\n            });\n        }\n    }\n    listenOnDetached() {\n        if (!this.isListenOnDetached) {\n            this.isListenOnDetached = true;\n            chrome.tabs.onDetached.addListener((tabId, detachInfo) => {\n                const event = new index_1.MarioEvent(TabServiceEvents_1.TabServiceEvents.ON_TAB_DETACHED, { tabId, detachInfo });\n                this.dispatcherService.emit(event).then();\n            });\n        }\n    }\n    listenOnAttached() {\n        if (!this.isListenOnAttached) {\n            this.isListenOnAttached = true;\n            chrome.tabs.onAttached.addListener((tabId, attachInfo) => {\n                const event = new index_1.MarioEvent(TabServiceEvents_1.TabServiceEvents.ON_TAB_ATTACHED, { tabId, attachInfo });\n                this.dispatcherService.emit(event).then();\n            });\n        }\n    }\n    listenOnRemoved() {\n        if (!this.isListenOnRemoved) {\n            this.isListenOnRemoved = true;\n            chrome.tabs.onRemoved.addListener((tabId, removeInfo) => {\n                const event = new index_1.MarioEvent(TabServiceEvents_1.TabServiceEvents.ON_TAB_REMOVED, { tabId, removeInfo });\n                this.dispatcherService.emit(event).then();\n            });\n        }\n    }\n    listenOnReplaced() {\n        if (!this.isListenOnReplaced) {\n            this.isListenOnReplaced = true;\n            chrome.tabs.onReplaced.addListener((addedTabId, removedTabId) => {\n                const event = new index_1.MarioEvent(TabServiceEvents_1.TabServiceEvents.ON_TAB_REPLACED, { addedTabId, removedTabId });\n                this.dispatcherService.emit(event).then();\n            });\n        }\n    }\n    listenOnZoomChange() {\n        if (!this.isListenOnZoomChange) {\n            this.isListenOnZoomChange = true;\n            chrome.tabs.onZoomChange.addListener((zoomChangeInfo) => {\n                const event = new index_1.MarioEvent(TabServiceEvents_1.TabServiceEvents.ON_TAB_ZOOM_CHANGE, { zoomChangeInfo });\n                this.dispatcherService.emit(event).then();\n            });\n        }\n    }\n    /**\n     * Sends a single message to event listeners within your extension/app or a different extension/app\n     * @param tabId\n     * @param message\n     */\n    sendMessage(tabId, message) {\n        chrome.tabs.sendMessage(tabId, message, result => {\n            if (chrome.runtime.lastError) {\n                // do nothing\n            }\n        });\n    }\n    /**\n     * Gets all tabs that have the specified properties, or all tabs if no properties are specified.\n     */\n    query(queryInfo) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => {\n                try {\n                    chrome.tabs.query(queryInfo, (tabs) => {\n                        resolve(tabs);\n                    });\n                }\n                catch (e) {\n                    reject();\n                }\n            });\n        });\n    }\n    /**\n     * Reload a tab.\n     *\n     * @param tabId\n     * @param reloadProperties\n     * @returns {Promise<any>}\n     */\n    reload(tabId, reloadProperties = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => {\n                try {\n                    chrome.tabs.reload(tabId, reloadProperties, () => {\n                        resolve();\n                    });\n                }\n                catch (e) {\n                    reject();\n                }\n            });\n        });\n    }\n    create(properties) {\n        chrome.tabs.create(properties);\n    }\n    get(tabId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => {\n                try {\n                    chrome.tabs.get(tabId, (tab) => resolve(tab));\n                }\n                catch (e) {\n                    reject(e);\n                }\n            });\n        });\n    }\n    getCurrent() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => {\n                try {\n                    chrome.tabs.getCurrent((tab) => resolve(tab));\n                }\n                catch (e) {\n                    reject(e);\n                }\n            });\n        });\n    }\n    duplicate(tabId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => {\n                try {\n                    chrome.tabs.duplicate(tabId, (tab) => resolve(tab));\n                }\n                catch (e) {\n                    reject(e);\n                }\n            });\n        });\n    }\n    highlight(highlightInfo) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => {\n                try {\n                    chrome.tabs.highlight(highlightInfo, () => resolve());\n                }\n                catch (e) {\n                    reject(e);\n                }\n            });\n        });\n    }\n    update(updateProperties, tabId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => {\n                try {\n                    chrome.tabs.update(tabId, updateProperties, (tab) => resolve(tab));\n                }\n                catch (e) {\n                    reject(e);\n                }\n            });\n        });\n    }\n    move(tabs, moveProperties) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => {\n                try {\n                    chrome.tabs.move(tabs, moveProperties, (tabs) => resolve(tabs));\n                }\n                catch (e) {\n                    reject(e);\n                }\n            });\n        });\n    }\n    remove(tabs) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => {\n                try {\n                    chrome.tabs.remove(tabs, (tabs) => resolve(tabs));\n                }\n                catch (e) {\n                    reject(e);\n                }\n            });\n        });\n    }\n};\nTabService = __decorate([\n    inversify_1.injectable(),\n    __param(0, inversify_1.inject(MARIO_TYPES_1.MARIO_TYPES.INTERNAL_DISPATCHER)),\n    __metadata(\"design:paramtypes\", [Object])\n], TabService);\nexports.TabService = TabService;\n","\"use strict\";\r\nexports.__esModule = true;\r\nvar Guid = /** @class */ (function () {\r\n    function Guid(guid) {\r\n        if (!guid) {\r\n            throw new TypeError(\"Invalid argument; `value` has no value.\");\r\n        }\r\n        this.value = Guid.EMPTY;\r\n        if (guid && Guid.isGuid(guid)) {\r\n            this.value = guid;\r\n        }\r\n    }\r\n    Guid.isGuid = function (guid) {\r\n        var value = guid.toString();\r\n        return guid && (guid instanceof Guid || Guid.validator.test(value));\r\n    };\r\n    Guid.create = function () {\r\n        return new Guid([Guid.gen(2), Guid.gen(1), Guid.gen(1), Guid.gen(1), Guid.gen(3)].join(\"-\"));\r\n    };\r\n    Guid.createEmpty = function () {\r\n        return new Guid(\"emptyguid\");\r\n    };\r\n    Guid.parse = function (guid) {\r\n        return new Guid(guid);\r\n    };\r\n    Guid.raw = function () {\r\n        return [Guid.gen(2), Guid.gen(1), Guid.gen(1), Guid.gen(1), Guid.gen(3)].join(\"-\");\r\n    };\r\n    Guid.gen = function (count) {\r\n        var out = \"\";\r\n        for (var i = 0; i < count; i++) {\r\n            // tslint:disable-next-line:no-bitwise\r\n            out += (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\r\n        }\r\n        return out;\r\n    };\r\n    Guid.prototype.equals = function (other) {\r\n        // Comparing string `value` against provided `guid` will auto-call\r\n        // toString on `guid` for comparison\r\n        return Guid.isGuid(other) && this.value === other.toString();\r\n    };\r\n    Guid.prototype.isEmpty = function () {\r\n        return this.value === Guid.EMPTY;\r\n    };\r\n    Guid.prototype.toString = function () {\r\n        return this.value;\r\n    };\r\n    Guid.prototype.toJSON = function () {\r\n        return {\r\n            value: this.value\r\n        };\r\n    };\r\n    Guid.validator = new RegExp(\"^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$\", \"i\");\r\n    Guid.EMPTY = \"00000000-0000-0000-0000-000000000000\";\r\n    return Guid;\r\n}());\r\nexports.Guid = Guid;\r\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BrowserEnum;\n(function (BrowserEnum) {\n    BrowserEnum[\"CHROME_BROWSER\"] = \"CHROME_BROWSER\";\n    BrowserEnum[\"FIREFOX_BROWSER\"] = \"FIREFOX_BROWSER\";\n    BrowserEnum[\"EDGE_BROWSER\"] = \"EDGE_BROWSER\";\n    BrowserEnum[\"SAFARI_BROWSER\"] = \"SAFARI_BROWSER\";\n    BrowserEnum[\"OPERA_BROWSER\"] = \"OPERA_BROWSER\";\n    BrowserEnum[\"CHROMIUM_BROWSER\"] = \"CHROMIUM_BROWSER\";\n})(BrowserEnum = exports.BrowserEnum || (exports.BrowserEnum = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar MetadataReader = (function () {\n    function MetadataReader() {\n    }\n    MetadataReader.prototype.getConstructorMetadata = function (constructorFunc) {\n        var compilerGeneratedMetadata = Reflect.getMetadata(METADATA_KEY.PARAM_TYPES, constructorFunc);\n        var userGeneratedMetadata = Reflect.getMetadata(METADATA_KEY.TAGGED, constructorFunc);\n        return {\n            compilerGeneratedMetadata: compilerGeneratedMetadata,\n            userGeneratedMetadata: userGeneratedMetadata || {}\n        };\n    };\n    MetadataReader.prototype.getPropertiesMetadata = function (constructorFunc) {\n        var userGeneratedMetadata = Reflect.getMetadata(METADATA_KEY.TAGGED_PROP, constructorFunc) || [];\n        return userGeneratedMetadata;\n    };\n    return MetadataReader;\n}());\nexports.MetadataReader = MetadataReader;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nfunction isStackOverflowExeption(error) {\n    return (error instanceof RangeError ||\n        error.message === ERROR_MSGS.STACK_OVERFLOW);\n}\nexports.isStackOverflowExeption = isStackOverflowExeption;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar error_msgs_1 = require(\"../constants/error_msgs\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nvar decorator_utils_1 = require(\"./decorator_utils\");\nvar LazyServiceIdentifer = (function () {\n    function LazyServiceIdentifer(cb) {\n        this._cb = cb;\n    }\n    LazyServiceIdentifer.prototype.unwrap = function () {\n        return this._cb();\n    };\n    return LazyServiceIdentifer;\n}());\nexports.LazyServiceIdentifer = LazyServiceIdentifer;\nfunction inject(serviceIdentifier) {\n    return function (target, targetKey, index) {\n        if (serviceIdentifier === undefined) {\n            throw new Error(error_msgs_1.UNDEFINED_INJECT_ANNOTATION(target.name));\n        }\n        var metadata = new metadata_1.Metadata(METADATA_KEY.INJECT_TAG, serviceIdentifier);\n        if (typeof index === \"number\") {\n            decorator_utils_1.tagParameter(target, targetKey, index, metadata);\n        }\n        else {\n            decorator_utils_1.tagProperty(target, targetKey, metadata);\n        }\n    };\n}\nexports.inject = inject;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar id_1 = require(\"../utils/id\");\nvar metadata_1 = require(\"./metadata\");\nvar queryable_string_1 = require(\"./queryable_string\");\nvar Target = (function () {\n    function Target(type, name, serviceIdentifier, namedOrTagged) {\n        this.id = id_1.id();\n        this.type = type;\n        this.serviceIdentifier = serviceIdentifier;\n        this.name = new queryable_string_1.QueryableString(name || \"\");\n        this.metadata = new Array();\n        var metadataItem = null;\n        if (typeof namedOrTagged === \"string\") {\n            metadataItem = new metadata_1.Metadata(METADATA_KEY.NAMED_TAG, namedOrTagged);\n        }\n        else if (namedOrTagged instanceof metadata_1.Metadata) {\n            metadataItem = namedOrTagged;\n        }\n        if (metadataItem !== null) {\n            this.metadata.push(metadataItem);\n        }\n    }\n    Target.prototype.hasTag = function (key) {\n        for (var _i = 0, _a = this.metadata; _i < _a.length; _i++) {\n            var m = _a[_i];\n            if (m.key === key) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Target.prototype.isArray = function () {\n        return this.hasTag(METADATA_KEY.MULTI_INJECT_TAG);\n    };\n    Target.prototype.matchesArray = function (name) {\n        return this.matchesTag(METADATA_KEY.MULTI_INJECT_TAG)(name);\n    };\n    Target.prototype.isNamed = function () {\n        return this.hasTag(METADATA_KEY.NAMED_TAG);\n    };\n    Target.prototype.isTagged = function () {\n        return this.metadata.some(function (m) {\n            return (m.key !== METADATA_KEY.INJECT_TAG) &&\n                (m.key !== METADATA_KEY.MULTI_INJECT_TAG) &&\n                (m.key !== METADATA_KEY.NAME_TAG) &&\n                (m.key !== METADATA_KEY.UNMANAGED_TAG) &&\n                (m.key !== METADATA_KEY.NAMED_TAG);\n        });\n    };\n    Target.prototype.isOptional = function () {\n        return this.matchesTag(METADATA_KEY.OPTIONAL_TAG)(true);\n    };\n    Target.prototype.getNamedTag = function () {\n        if (this.isNamed()) {\n            return this.metadata.filter(function (m) { return m.key === METADATA_KEY.NAMED_TAG; })[0];\n        }\n        return null;\n    };\n    Target.prototype.getCustomTags = function () {\n        if (this.isTagged()) {\n            return this.metadata.filter(function (m) {\n                return (m.key !== METADATA_KEY.INJECT_TAG) &&\n                    (m.key !== METADATA_KEY.MULTI_INJECT_TAG) &&\n                    (m.key !== METADATA_KEY.NAME_TAG) &&\n                    (m.key !== METADATA_KEY.UNMANAGED_TAG) &&\n                    (m.key !== METADATA_KEY.NAMED_TAG);\n            });\n        }\n        return null;\n    };\n    Target.prototype.matchesNamedTag = function (name) {\n        return this.matchesTag(METADATA_KEY.NAMED_TAG)(name);\n    };\n    Target.prototype.matchesTag = function (key) {\n        var _this = this;\n        return function (value) {\n            for (var _i = 0, _a = _this.metadata; _i < _a.length; _i++) {\n                var m = _a[_i];\n                if (m.key === key && m.value === value) {\n                    return true;\n                }\n            }\n            return false;\n        };\n    };\n    return Target;\n}());\nexports.Target = Target;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar binding_on_syntax_1 = require(\"./binding_on_syntax\");\nvar binding_when_syntax_1 = require(\"./binding_when_syntax\");\nvar BindingWhenOnSyntax = (function () {\n    function BindingWhenOnSyntax(binding) {\n        this._binding = binding;\n        this._bindingWhenSyntax = new binding_when_syntax_1.BindingWhenSyntax(this._binding);\n        this._bindingOnSyntax = new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    }\n    BindingWhenOnSyntax.prototype.when = function (constraint) {\n        return this._bindingWhenSyntax.when(constraint);\n    };\n    BindingWhenOnSyntax.prototype.whenTargetNamed = function (name) {\n        return this._bindingWhenSyntax.whenTargetNamed(name);\n    };\n    BindingWhenOnSyntax.prototype.whenTargetIsDefault = function () {\n        return this._bindingWhenSyntax.whenTargetIsDefault();\n    };\n    BindingWhenOnSyntax.prototype.whenTargetTagged = function (tag, value) {\n        return this._bindingWhenSyntax.whenTargetTagged(tag, value);\n    };\n    BindingWhenOnSyntax.prototype.whenInjectedInto = function (parent) {\n        return this._bindingWhenSyntax.whenInjectedInto(parent);\n    };\n    BindingWhenOnSyntax.prototype.whenParentNamed = function (name) {\n        return this._bindingWhenSyntax.whenParentNamed(name);\n    };\n    BindingWhenOnSyntax.prototype.whenParentTagged = function (tag, value) {\n        return this._bindingWhenSyntax.whenParentTagged(tag, value);\n    };\n    BindingWhenOnSyntax.prototype.whenAnyAncestorIs = function (ancestor) {\n        return this._bindingWhenSyntax.whenAnyAncestorIs(ancestor);\n    };\n    BindingWhenOnSyntax.prototype.whenNoAncestorIs = function (ancestor) {\n        return this._bindingWhenSyntax.whenNoAncestorIs(ancestor);\n    };\n    BindingWhenOnSyntax.prototype.whenAnyAncestorNamed = function (name) {\n        return this._bindingWhenSyntax.whenAnyAncestorNamed(name);\n    };\n    BindingWhenOnSyntax.prototype.whenAnyAncestorTagged = function (tag, value) {\n        return this._bindingWhenSyntax.whenAnyAncestorTagged(tag, value);\n    };\n    BindingWhenOnSyntax.prototype.whenNoAncestorNamed = function (name) {\n        return this._bindingWhenSyntax.whenNoAncestorNamed(name);\n    };\n    BindingWhenOnSyntax.prototype.whenNoAncestorTagged = function (tag, value) {\n        return this._bindingWhenSyntax.whenNoAncestorTagged(tag, value);\n    };\n    BindingWhenOnSyntax.prototype.whenAnyAncestorMatches = function (constraint) {\n        return this._bindingWhenSyntax.whenAnyAncestorMatches(constraint);\n    };\n    BindingWhenOnSyntax.prototype.whenNoAncestorMatches = function (constraint) {\n        return this._bindingWhenSyntax.whenNoAncestorMatches(constraint);\n    };\n    BindingWhenOnSyntax.prototype.onActivation = function (handler) {\n        return this._bindingOnSyntax.onActivation(handler);\n    };\n    return BindingWhenOnSyntax;\n}());\nexports.BindingWhenOnSyntax = BindingWhenOnSyntax;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nvar traverseAncerstors = function (request, constraint) {\n    var parent = request.parentRequest;\n    if (parent !== null) {\n        return constraint(parent) ? true : traverseAncerstors(parent, constraint);\n    }\n    else {\n        return false;\n    }\n};\nexports.traverseAncerstors = traverseAncerstors;\nvar taggedConstraint = function (key) { return function (value) {\n    var constraint = function (request) {\n        return request !== null && request.target !== null && request.target.matchesTag(key)(value);\n    };\n    constraint.metaData = new metadata_1.Metadata(key, value);\n    return constraint;\n}; };\nexports.taggedConstraint = taggedConstraint;\nvar namedConstraint = taggedConstraint(METADATA_KEY.NAMED_TAG);\nexports.namedConstraint = namedConstraint;\nvar typeConstraint = function (type) { return function (request) {\n    var binding = null;\n    if (request !== null) {\n        binding = request.bindings[0];\n        if (typeof type === \"string\") {\n            var serviceIdentifier = binding.serviceIdentifier;\n            return serviceIdentifier === type;\n        }\n        else {\n            var constructor = request.bindings[0].implementationType;\n            return type === constructor;\n        }\n    }\n    return false;\n}; };\nexports.typeConstraint = typeConstraint;\n","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst inversify_1 = require(\"inversify\");\nconst MARIO_TYPES_1 = require(\"../../../MARIO_TYPES\");\nconst InternalDispatcherListenerIsNotRegisteredException_1 = require(\"./Exceptions/InternalDispatcherListenerIsNotRegisteredException\");\nlet InternalDispatcher = class InternalDispatcher {\n    constructor(container, loggerService) {\n        this.container = container;\n        this.loggerService = loggerService;\n        this.counter = 0;\n        this.listeners = {};\n        this.listenersIndex = {};\n    }\n    emit(event) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.loggerService.event(`InternalDispatcher`, event);\n            const listeners = this.getEventListeners(event.event);\n            const promises = [];\n            for (const key in listeners) {\n                const listener = listeners[key];\n                const promise = listener.handle.apply(listener, [event]);\n                promises.push(promise);\n            }\n            Promise.all(promises).then();\n        });\n    }\n    on(useClass) {\n        this.container.bind(useClass).toSelf().inSingletonScope();\n        const handler = this.container.get(useClass);\n        const eventName = handler.on();\n        this.loggerService.log(`InternalDispatcher: register a listener on event \"${eventName}\"`);\n        if (typeof this.listeners[eventName] === 'undefined') {\n            this.listeners[eventName] = [];\n        }\n        const id = ++this.counter;\n        this.listenersIndex[id] = eventName;\n        this.listeners[eventName][id] = handler;\n        return id;\n    }\n    hasEventListeners(eventName) {\n        return this.listeners.hasOwnProperty(eventName) && this.listeners[eventName].length > 0;\n    }\n    getEventListeners(eventName) {\n        if (this.hasEventListeners(eventName)) {\n            const listeners = this.listeners[eventName];\n            return listeners.filter((value) => !!value.handle);\n        }\n        return [];\n    }\n    getListener(id) {\n        if (!this.hasListener(id)) {\n            throw new InternalDispatcherListenerIsNotRegisteredException_1.InternalDispatcherListenerIsNotRegisteredException(`a listener with id \"${id}\" is not registered`);\n        }\n        const eventName = this.listenersIndex[id];\n        return this.listeners[eventName][id];\n    }\n    removeListener(id) {\n        if (!this.hasListener(id)) {\n            throw new InternalDispatcherListenerIsNotRegisteredException_1.InternalDispatcherListenerIsNotRegisteredException(`a listener with id \"${id}\" is not registered`);\n        }\n        const eventName = this.listenersIndex[id];\n        delete this.listenersIndex[id];\n        delete this.listeners[eventName][id];\n    }\n    hasListener(listenerId) {\n        return this.listenersIndex.hasOwnProperty(listenerId);\n    }\n};\nInternalDispatcher = __decorate([\n    inversify_1.injectable(),\n    __param(0, inversify_1.inject(MARIO_TYPES_1.MARIO_TYPES.CONTAINER)),\n    __param(1, inversify_1.inject(MARIO_TYPES_1.MARIO_TYPES.LOGGER_SERVICE)),\n    __metadata(\"design:paramtypes\", [Object, Object])\n], InternalDispatcher);\nexports.InternalDispatcher = InternalDispatcher;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DUPLICATED_INJECTABLE_DECORATOR = \"Cannot apply @injectable decorator multiple times.\";\nexports.DUPLICATED_METADATA = \"Metadata key was used more than once in a parameter:\";\nexports.NULL_ARGUMENT = \"NULL argument\";\nexports.KEY_NOT_FOUND = \"Key Not Found\";\nexports.AMBIGUOUS_MATCH = \"Ambiguous match found for serviceIdentifier:\";\nexports.CANNOT_UNBIND = \"Could not unbind serviceIdentifier:\";\nexports.NOT_REGISTERED = \"No matching bindings found for serviceIdentifier:\";\nexports.MISSING_INJECTABLE_ANNOTATION = \"Missing required @injectable annotation in:\";\nexports.MISSING_INJECT_ANNOTATION = \"Missing required @inject or @multiInject annotation in:\";\nexports.UNDEFINED_INJECT_ANNOTATION = function (name) {\n    return \"@inject called with undefined this could mean that the class \" + name + \" has \" +\n        \"a circular dependency problem. You can use a LazyServiceIdentifer to  \" +\n        \"overcome this limitation.\";\n};\nexports.CIRCULAR_DEPENDENCY = \"Circular dependency found:\";\nexports.NOT_IMPLEMENTED = \"Sorry, this feature is not fully implemented yet.\";\nexports.INVALID_BINDING_TYPE = \"Invalid binding type:\";\nexports.NO_MORE_SNAPSHOTS_AVAILABLE = \"No snapshot available to restore.\";\nexports.INVALID_MIDDLEWARE_RETURN = \"Invalid return type in middleware. Middleware must return!\";\nexports.INVALID_FUNCTION_BINDING = \"Value provided to function binding must be a function!\";\nexports.INVALID_TO_SELF_VALUE = \"The toSelf function can only be applied when a constructor is \" +\n    \"used as service identifier\";\nexports.INVALID_DECORATOR_OPERATION = \"The @inject @multiInject @tagged and @named decorators \" +\n    \"must be applied to the parameters of a class constructor or a class property.\";\nexports.ARGUMENTS_LENGTH_MISMATCH = function () {\n    var values = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        values[_i] = arguments[_i];\n    }\n    return \"The number of constructor arguments in the derived class \" +\n        (values[0] + \" must be >= than the number of constructor arguments of its base class.\");\n};\nexports.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT = \"Invalid Container constructor argument. Container options \" +\n    \"must be an object.\";\nexports.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE = \"Invalid Container option. Default scope must \" +\n    \"be a string ('singleton' or 'transient').\";\nexports.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE = \"Invalid Container option. Auto bind injectable must \" +\n    \"be a boolean\";\nexports.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK = \"Invalid Container option. Skip base check must \" +\n    \"be a boolean\";\nexports.MULTIPLE_POST_CONSTRUCT_METHODS = \"Cannot apply @postConstruct decorator multiple times in the same class\";\nexports.POST_CONSTRUCT_ERROR = function () {\n    var values = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        values[_i] = arguments[_i];\n    }\n    return \"@postConstruct error in class \" + values[0] + \": \" + values[1];\n};\nexports.CIRCULAR_DEPENDENCY_IN_FACTORY = function () {\n    var values = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        values[_i] = arguments[_i];\n    }\n    return \"It looks like there is a circular dependency \" +\n        (\"in one of the '\" + values[0] + \"' bindings. Please investigate bindings with\") +\n        (\"service identifier '\" + values[1] + \"'.\");\n};\nexports.STACK_OVERFLOW = \"Maximum call stack size exceeded\";\n","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar LoggerService_1;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst inversify_1 = require(\"inversify\");\nconst stringify = require(\"json-stringify-safe\");\nlet LoggerService = LoggerService_1 = class LoggerService {\n    constructor() {\n        this.onLogListeners = [];\n        this.onEventListeners = [];\n        this.onErrorListeners = [];\n        this.onWarnListeners = [];\n        this.onFilterLogListeners = [];\n    }\n    log(message, args) {\n        const output = this.time();\n        output[0] += `%c[INFO] %c${message}`;\n        output.push(this.color(LoggerService_1.LIGHT_BLUE_COLOR) + this.fontWeight(600));\n        output.push(this.color(LoggerService_1.BLACK_COLOR));\n        let argsOutput = '';\n        if (typeof args !== 'undefined') {\n            argsOutput = stringify(args, null, 2);\n        }\n        const cleanOutput = this.prepareOutput(output[0], argsOutput);\n        const showOutput = !this.filterInfo(cleanOutput);\n        if (showOutput) {\n            console.log.apply(console, output);\n            if (argsOutput) {\n//                console.log(argsOutput);\n            }\n        }\n        this.handleOnLogListeners(message, args, cleanOutput);\n    }\n    event(message, event) {\n        const output = this.time();\n        output[0] += `%c[EVENT ${event.event}] %c${message}`;\n        output.push(this.color(LoggerService_1.LIGHT_GREEN_COLOR) + this.fontWeight(600));\n        output.push(this.color(LoggerService_1.BLACK_COLOR));\n        console.log.apply(console, output);\n        const argsOutput = stringify(event.data, null, 2);\n//        console.log(argsOutput);\n        this.handleOnEventListeners(message, event, this.prepareOutput(output[0], argsOutput));\n    }\n    warn(message, args) {\n        const output = this.time();\n        output[0] += `%c[WARN] %c${message}`;\n        output.push(this.color(LoggerService_1.RED_COLOR) + this.fontWeight(600));\n        output.push(this.color(LoggerService_1.BLACK_COLOR));\n        console.log.apply(console, output);\n        let argsOutput = '';\n        if (typeof args !== 'undefined') {\n            console.log(args);\n            argsOutput = stringify(args, null, 2);\n        }\n        this.handleOnWarnListeners(message, args, this.prepareOutput(output[0], argsOutput));\n    }\n    error(e) {\n        const output = this.time();\n        output[0] += `%c[ERROR] %c${e.message}`;\n        output.push(this.color(LoggerService_1.RED_COLOR) + this.fontWeight(600));\n        output.push(this.color(LoggerService_1.BLACK_COLOR));\n        console.log.apply(console, output);\n        this.handleOnErrorListeners(e);\n    }\n    onLog(callback) {\n        this.onLogListeners.push(callback);\n    }\n    onEvent(callback) {\n        this.onEventListeners.push(callback);\n    }\n    onWarn(callback) {\n        this.onWarnListeners.push(callback);\n    }\n    onError(callback) {\n        this.onErrorListeners.push(callback);\n    }\n    onFilterLog(callback) {\n        this.onFilterLogListeners.push(callback);\n    }\n    handleOnLogListeners(message, args, output) {\n        for (const listener of this.onLogListeners) {\n            listener(message, args, output);\n        }\n    }\n    handleOnWarnListeners(message, args, output) {\n        for (const listener of this.onWarnListeners) {\n            listener(message, args, output);\n        }\n    }\n    handleOnEventListeners(message, event, output) {\n        for (const listener of this.onEventListeners) {\n            listener(message, event, output);\n        }\n    }\n    handleOnErrorListeners(e, output) {\n        for (const listener of this.onErrorListeners) {\n            listener(e, output);\n        }\n    }\n    filterInfo(cleanOutput) {\n        for (const listener of this.onFilterLogListeners) {\n            const filterMe = listener(cleanOutput);\n            if (filterMe) {\n                return true;\n            }\n        }\n        return false;\n    }\n    time() {\n        const date = new Date();\n        let time = `%c[`;\n        time += `tz:${date.getTimezoneOffset()} `;\n        time += `${this.pad(date.getDate().toString(), 2)}/`;\n        time += `${this.pad(date.getMonth().toString(), 2)}/`;\n        time += `${date.getFullYear()} `;\n        time += `${this.pad(date.getHours().toString(), 2)}:`;\n        time += `${this.pad(date.getMinutes().toString(), 2)}:`;\n        time += `${this.pad(date.getSeconds().toString(), 2)} `;\n        time += `${this.pad(date.getMilliseconds().toString(), 4)}`;\n        time += `]%c `;\n        return [\n            time,\n            this.fontWeight(600),\n            this.color(LoggerService_1.BLACK_COLOR),\n        ];\n    }\n    color(color) {\n        return `color: ${color};`;\n    }\n    fontWeight(value) {\n        return `font-weight: ${value};`;\n    }\n    pad(str, width, z) {\n        const char = z || '0';\n        return str.length >= width ? str : new Array(width - str.length + 1).join(char) + str;\n    }\n    prepareOutput(output, args) {\n        return `${output.replace(/%c/g, '')}\\n${args}`;\n    }\n};\nLoggerService.BLACK_COLOR = '#000';\nLoggerService.RED_COLOR = '#f40f3f';\nLoggerService.LIGHT_GREEN_COLOR = '#1e9f3e';\nLoggerService.LIGHT_BLUE_COLOR = '#4285f4';\nLoggerService = LoggerService_1 = __decorate([\n    inversify_1.injectable()\n], LoggerService);\nexports.LoggerService = LoggerService;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TabServiceEvents;\n(function (TabServiceEvents) {\n    TabServiceEvents[\"ON_TAB_CREATED\"] = \"ON_TAB_CREATED\";\n    TabServiceEvents[\"ON_TAB_UPDATED\"] = \"ON_TAB_UPDATED\";\n    TabServiceEvents[\"ON_TAB_MOVED\"] = \"ON_TAB_MOVED\";\n    TabServiceEvents[\"ON_TAB_ACTIVATED\"] = \"ON_TAB_ACTIVATED\";\n    TabServiceEvents[\"ON_TAB_HIGHLIGHTED\"] = \"ON_TAB_HIGHLIGHTED\";\n    TabServiceEvents[\"ON_TAB_DETACHED\"] = \"ON_TAB_DETACHED\";\n    TabServiceEvents[\"ON_TAB_ATTACHED\"] = \"ON_TAB_ATTACHED\";\n    TabServiceEvents[\"ON_TAB_REMOVED\"] = \"ON_TAB_REMOVED\";\n    TabServiceEvents[\"ON_TAB_REPLACED\"] = \"ON_TAB_REPLACED\";\n    TabServiceEvents[\"ON_TAB_ZOOM_CHANGE\"] = \"ON_TAB_ZOOM_CHANGE\";\n})(TabServiceEvents = exports.TabServiceEvents || (exports.TabServiceEvents = {}));\n","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst inversify_1 = require(\"inversify\");\nconst MARIO_TYPES_1 = require(\"../../../MARIO_TYPES\");\nconst ExternalDispatcherEvents_1 = require(\"./ExternalDispatcherEvents\");\nconst ExternalDispatcherListenerIsNotFoundException_1 = require(\"./Exceptions/ExternalDispatcherListenerIsNotFoundException\");\nlet ExternalDispatcher = class ExternalDispatcher {\n    constructor(container, loggerService, tabService) {\n        this.container = container;\n        this.loggerService = loggerService;\n        this.tabService = tabService;\n        this.listeners = {};\n        this.listenersIndex = {};\n        this.counter = 0;\n        chrome.runtime.onMessage.addListener((message, sender, response) => {\n            this.loggerService.log('ExternalDispatcher: received a message', message);\n            this.internalEmit(ExternalDispatcherEvents_1.ExternalDispatcherEvents.ON_ANY_MESSAGE, message, sender, response);\n            if (this.isEventMessage(message)) {\n                const scope = message.event;\n                this.loggerService.event('ExternalDispatcher: emit', message);\n                this.internalEmit(scope, message, sender, response);\n            }\n            return true;\n        });\n    }\n    emit(tabId, event) {\n        this.loggerService.event('ExternalDispatcher: emit', event);\n        this.tabService.sendMessage(tabId, event);\n    }\n    on(useClass) {\n        this.validateContainer();\n        const handler = this.bind(useClass);\n        this.loggerService.log(`ExternalDispatcher: register an event listener \"${handler.on()}\"`);\n        return this.addEventListener(handler.on(), handler);\n    }\n    removeListener(listenerId) {\n        if (!this.hasListeners(listenerId)) {\n            throw new ExternalDispatcherListenerIsNotFoundException_1.ExternalDispatcherListenerIsNotFoundException(`Listener with id \"${listenerId}\" is not found`);\n        }\n        this.loggerService.log(`ExternalDispatcher: remove an event listener \"${listenerId}\"`);\n        const scope = this.listenersIndex[listenerId];\n        delete this.listeners[scope][listenerId];\n        delete this.listenersIndex[listenerId];\n    }\n    getListener(listenerId) {\n        if (!this.hasListeners(listenerId)) {\n            throw new ExternalDispatcherListenerIsNotFoundException_1.ExternalDispatcherListenerIsNotFoundException(`Listener with id \"${listenerId}\" is not found`);\n        }\n        const scope = this.listenersIndex[listenerId];\n        return this.listeners[scope][listenerId];\n    }\n    hasListeners(listenerId) {\n        return typeof this.listenersIndex[listenerId] !== 'undefined';\n    }\n    getEventListeners(event) {\n        return this.hasEventListeners(event) ? this.listeners[event] : [];\n    }\n    hasEventListeners(event) {\n        return typeof this.listeners[event] !== 'undefined';\n    }\n    validateContainer() {\n    }\n    isEventMessage(message) {\n        return (typeof message === 'object') && (typeof message.event === 'string');\n    }\n    internalEmit(scope, message, sender, sendResponse) {\n        if (!this.hasEventListeners(scope)) {\n            return;\n        }\n        const promises = [];\n        const listeners = this.listeners[scope];\n        for (const key of Object.keys(listeners)) {\n            const listener = listeners[key];\n            const promise = listener.handle.apply(listener, [message, sender, sendResponse]);\n            promises.push(promise);\n        }\n        Promise.all(promises).then();\n    }\n    addEventListener(scope, handler) {\n        this.validateContainer();\n        if (typeof this.listeners[scope] === 'undefined') {\n            this.listeners[scope] = {};\n        }\n        const id = ++this.counter;\n        this.listeners[scope][id] = handler;\n        this.listenersIndex[id] = scope;\n        return id;\n    }\n    bind(useClass) {\n        this.container.bind(useClass).toSelf().inSingletonScope();\n        return this.container.get(useClass);\n    }\n};\nExternalDispatcher = __decorate([\n    inversify_1.injectable(),\n    __param(0, inversify_1.inject(MARIO_TYPES_1.MARIO_TYPES.CONTAINER)),\n    __param(1, inversify_1.inject(MARIO_TYPES_1.MARIO_TYPES.LOGGER_SERVICE)),\n    __param(2, inversify_1.inject(MARIO_TYPES_1.MARIO_TYPES.TAB_SERVICE)),\n    __metadata(\"design:paramtypes\", [Object, Object, Object])\n], ExternalDispatcher);\nexports.ExternalDispatcher = ExternalDispatcher;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass ContentDispatcherService {\n    constructor() {\n        this.listeners = {};\n        this.listenersIndex = {};\n        this.counter = 0;\n        chrome.runtime.onMessage.addListener((message) => {\n            if (!this.isEventMessage(message)) {\n                return;\n            }\n            if (!this.hasEventListeners(message.event)) {\n                console.log(`ContentDispatcherService: no listeners for an event ${message.event}`);\n                return;\n            }\n            const promises = [];\n            const listeners = this.listeners[message.event];\n            for (const key of Object.keys(listeners)) {\n                const listener = listeners[key];\n                const promise = listener(message);\n                promises.push(promise);\n            }\n            Promise.all(promises).then();\n            return false;\n        });\n    }\n    emit(event, callback) {\n        chrome.runtime.sendMessage(event, callback);\n    }\n    on(event, handler) {\n        const id = ++this.counter;\n        if (!this.hasEventListeners(event)) {\n            this.listeners[event] = {};\n        }\n        this.listeners[event][id] = handler;\n        this.listenersIndex[id] = event;\n        return id;\n    }\n    hasEventListeners(event) {\n        return typeof this.listeners[event] !== 'undefined';\n    }\n    removeListener(listenerId) {\n        if (this.hasListener(listenerId)) {\n            const event = this.listenersIndex[listenerId];\n            delete this.listeners[event][listenerId];\n            delete this.listenersIndex[listenerId];\n        }\n    }\n    hasListener(listenerId) {\n        return this.listenersIndex.hasOwnProperty(listenerId);\n    }\n    getListener(listenerId) {\n        if (!this.hasListener(listenerId)) {\n            // todo\n            throw new Error('boom');\n        }\n        const event = this.listenersIndex[listenerId];\n        return this.listeners[event][listenerId];\n    }\n    isEventMessage(message) {\n        return (typeof message === 'object') && (typeof message.event === 'string');\n    }\n}\nexports.ContentDispatcherService = ContentDispatcherService;\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst notification_1 = require(\"./notification\");\r\nconst GoogleAnalyticsContentDispatcher_1 = require(\"@urbandevs/mario-google-analytics/dist/GoogleAnalyticsContentDispatcher\");\r\nconst src_1 = require(\"@urbandevs/mario-core/dist/src\");\r\nconst dispatcherService = new src_1.ContentDispatcherService();\r\nconst googleAnalytics = new GoogleAnalyticsContentDispatcher_1.GoogleAnalyticsContentDispatcher(dispatcherService);\r\nnew notification_1.NotificationService(googleAnalytics);\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst src_1 = require(\"@urbandevs/mario-core/dist/src\");\r\nconst UrlsSafeCheckEvents_1 = require(\"@urbandevs/mario-urls-safe-check/dist/UrlsSafeCheckEvents\");\r\nconst UrlsSafeCheckTypes_1 = require(\"@urbandevs/mario-urls-safe-check/dist/UrlsSafeCheckTypes\");\r\nconst IframeEvents_1 = require(\"./IframeEvents\");\r\nclass NotificationService {\r\n    constructor(googleAnalytics) {\r\n        this.googleAnalytics = googleAnalytics;\r\n        this.dispatcher = new src_1.ContentDispatcherService();\r\n        const _this = this;\r\n        window.addEventListener('message', event => {\r\n            if (event && event.data && event.data.message) {\r\n                _this.onIframeMessage(event.data);\r\n            }\r\n        }, false);\r\n        this.dispatcher.on(UrlsSafeCheckEvents_1.UrlsSafeCheckEvents.SAFE_STATUS_UPDATED, message => {\r\n            const { status, notificationMuted } = message.data;\r\n            if (status === UrlsSafeCheckTypes_1.STATUS.UNSAFE && !notificationMuted) {\r\n                this.showUnsafePopup();\r\n            }\r\n        });\r\n    }\r\n    onIframeMessage(data) {\r\n        switch (data.message) {\r\n            case IframeEvents_1.IframeEvents.CLOSE:\r\n                this.hideUnsafePopup();\r\n                break;\r\n            case IframeEvents_1.IframeEvents.GOTO_URL:\r\n                window.location = data.url;\r\n                break;\r\n        }\r\n    }\r\n    showUnsafePopup() {\r\n        this.googleAnalytics.trackEvent({\r\n            category: 'unsafe_popup',\r\n            action: 'shown'\r\n        });\r\n        if (this.getIframeElement()) {\r\n            return;\r\n        }\r\n        this.injectIframeDynamic();\r\n    }\r\n    hideUnsafePopup() {\r\n        try {\r\n            this.googleAnalytics.trackEvent({\r\n                category: 'unsafe_popup',\r\n                action: 'hidden'\r\n            });\r\n        }\r\n        catch (err) {\r\n            // context invalidated?\r\n        }\r\n        const element = this.getIframeElement();\r\n        if (element) {\r\n            element.remove();\r\n        }\r\n    }\r\n    injectIframeDynamic() {\r\n        const iFrame = document.createElement('iframe');\r\n        iFrame.style.width = '665px';\r\n        iFrame.style.height = '265px';\r\n        iFrame.style.position = 'fixed';\r\n        iFrame.style.top = '16px';\r\n        iFrame.style.right = '16px';\r\n        iFrame.style.zIndex = '9999999999';\r\n        iFrame.style.borderRadius = '8px';\r\n        iFrame.style.boxShadow = '0 2px 8px 0 rgba(0, 0, 0, 0.3)';\r\n        iFrame.style.backgroundColor = '#ffffff';\r\n        iFrame.style.border = 'solid 1px #d7d7d7';\r\n        iFrame.src = chrome.extension.getURL('content/safecheck-notification/notification-iframe/index.html');\r\n        iFrame.id = 'safesearch_notification_iframe';\r\n        document.body.insertBefore(iFrame, document.body.firstChild);\r\n    }\r\n    getIframeElement() {\r\n        return document.getElementById('safesearch_notification_iframe');\r\n    }\r\n}\r\nexports.NotificationService = NotificationService;\r\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ExternalDispatcherEvents;\n(function (ExternalDispatcherEvents) {\n    ExternalDispatcherEvents[\"ON_ANY_MESSAGE\"] = \"ON_ANY_MESSAGE\";\n})(ExternalDispatcherEvents = exports.ExternalDispatcherEvents || (exports.ExternalDispatcherEvents = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst MARIO_TYPES = {\n    ALARM_SERVICE: Symbol.for('ALARM_SERVICE'),\n    BROWSER: Symbol.for('BROWSER'),\n    BROWSER_ACTION: Symbol.for('BROWSER_ACTION'),\n    CACHE_SERVICE: Symbol.for('CACHE_SERVICE'),\n    CONTAINER: Symbol.for('CONTAINER'),\n    INTERNAL_DISPATCHER: Symbol.for('INTERNAL_DISPATCHER'),\n    LOCAL_STORAGE_SERVICE: Symbol.for('LOCAL_STORAGE_SERVICE'),\n    LOGGER_SERVICE: Symbol.for('LOGGER_SERVICE'),\n    STORAGE_SERVICE: Symbol.for('STORAGE_SERVICE'),\n    TAB_SERVICE: Symbol.for('TAB_SERVICE'),\n    NAVIGATION_SERVICE: Symbol.for('NAVIGATION_SERVICE'),\n    WEB_REQUEST_SERVICE: Symbol.for('WEB_REQUEST_SERVICE'),\n    PROXY_SERVICE: Symbol.for('PROXY_SERVICE'),\n    EXTENSION_SERVICE: Symbol.for('EXTENSION_SERVICE'),\n    EXTERNAL_DISPATCHER: Symbol.for('EXTERNAL_DISPATCHER'),\n    OMNIBOX_SERVICE: Symbol.for('OMNIBOX_SERVICE'),\n    WINDOW_POST: Symbol.for('WINDOW_POST'),\n    MANAGEMENT: Symbol.for('MANAGEMENT'),\n};\nexports.MARIO_TYPES = MARIO_TYPES;\n","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst inversify_1 = require(\"inversify\");\nconst index_1 = require(\"../../../index\");\nconst MARIO_TYPES_1 = require(\"../../../MARIO_TYPES\");\nconst NavigationServiceEvents_1 = require(\"./NavigationServiceEvents\");\nlet NavigationService = class NavigationService {\n    constructor(dispatcherService) {\n        this.dispatcherService = dispatcherService;\n        this.isListenOnBeforeNavigate = false;\n        this.isListenOnCommitted = false;\n        this.isListenOnDOMContentLoaded = false;\n        this.isListenOnCompleted = false;\n        this.isListenOnErrorOccurred = false;\n        this.isListenOnCreatedNavigationTarget = false;\n        this.isListenOnReferenceFragmentUpdated = false;\n        this.isListenOnTabReplaced = false;\n        this.isListenOnHistoryStateUpdated = false;\n    }\n    listenOnBeforeNavigate() {\n        if (!this.isListenOnBeforeNavigate) {\n            this.isListenOnBeforeNavigate = true;\n            chrome.webNavigation.onBeforeNavigate.addListener((details) => {\n                const event = new index_1.MarioEvent(NavigationServiceEvents_1.NavigationServiceEvents.NAVIGATION_ON_BEFORE_NAVIGATE, { details });\n                this.dispatcherService.emit(event).then();\n            });\n        }\n    }\n    listenOnCommitted() {\n        if (!this.isListenOnCommitted) {\n            this.isListenOnCommitted = true;\n            chrome.webNavigation.onCommitted.addListener((details) => {\n                const event = new index_1.MarioEvent(NavigationServiceEvents_1.NavigationServiceEvents.NAVIGATION_ON_COMMITTED, { details });\n                this.dispatcherService.emit(event).then();\n            });\n        }\n    }\n    listenOnDOMContentLoaded() {\n        if (!this.isListenOnDOMContentLoaded) {\n            this.isListenOnDOMContentLoaded = true;\n            chrome.webNavigation.onDOMContentLoaded.addListener((details) => {\n                const event = new index_1.MarioEvent(NavigationServiceEvents_1.NavigationServiceEvents.NAVIGATION_ON_DOM_CONTENT_LOADED, { details });\n                this.dispatcherService.emit(event).then();\n            });\n        }\n    }\n    listenOnCompleted() {\n        if (!this.isListenOnCompleted) {\n            this.isListenOnCompleted = true;\n            chrome.webNavigation.onCompleted.addListener((details) => {\n                const event = new index_1.MarioEvent(NavigationServiceEvents_1.NavigationServiceEvents.NAVIGATION_ON_COMPLETED, { details });\n                this.dispatcherService.emit(event).then();\n            });\n        }\n    }\n    listenOnErrorOccurred() {\n        if (!this.isListenOnErrorOccurred) {\n            this.isListenOnErrorOccurred = true;\n            chrome.webNavigation.onErrorOccurred.addListener((details) => {\n                const event = new index_1.MarioEvent(NavigationServiceEvents_1.NavigationServiceEvents.NAVIGATION_ON_ERROR_OCCURRED, { details });\n                this.dispatcherService.emit(event).then();\n            });\n        }\n    }\n    listenOnCreatedNavigationTarget() {\n        if (!this.isListenOnCreatedNavigationTarget) {\n            this.isListenOnCreatedNavigationTarget = true;\n            chrome.webNavigation.onCreatedNavigationTarget.addListener((details) => {\n                const event = new index_1.MarioEvent(NavigationServiceEvents_1.NavigationServiceEvents.NAVIGATION_ON_CREATED_NAVIGATION_TARGET, { details });\n                this.dispatcherService.emit(event).then();\n            });\n        }\n    }\n    listenOnReferenceFragmentUpdated() {\n        if (!this.isListenOnReferenceFragmentUpdated) {\n            this.isListenOnReferenceFragmentUpdated = true;\n            chrome.webNavigation.onReferenceFragmentUpdated.addListener((details) => {\n                const event = new index_1.MarioEvent(NavigationServiceEvents_1.NavigationServiceEvents.NAVIGATION_ON_REFERENCE_FRAGMNENT_UPDATED, { details });\n                this.dispatcherService.emit(event).then();\n            });\n        }\n    }\n    listenOnTabReplaced() {\n        if (!this.isListenOnTabReplaced) {\n            this.isListenOnTabReplaced = true;\n            chrome.webNavigation.onTabReplaced.addListener((details) => {\n                const event = new index_1.MarioEvent(NavigationServiceEvents_1.NavigationServiceEvents.NAVIGATION_ON_TAB_REPLACED, { details });\n                this.dispatcherService.emit(event).then();\n            });\n        }\n    }\n    listenOnHistoryStateUpdated() {\n        if (!this.isListenOnHistoryStateUpdated) {\n            this.isListenOnHistoryStateUpdated = true;\n            chrome.webNavigation.onHistoryStateUpdated.addListener((details) => {\n                const event = new index_1.MarioEvent(NavigationServiceEvents_1.NavigationServiceEvents.NAVIGATION_ON_HISTORY_STATE_UPDATED, { details });\n                this.dispatcherService.emit(event).then();\n            });\n        }\n    }\n    /**\n    * Retrieves information about the given frame\n    * @param properties\n    * @returns {Promise<Frame>}\n    */\n    getFrame(properties) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => {\n                try {\n                    chrome.webNavigation.getFrame(properties, (frame) => resolve(frame));\n                }\n                catch (e) {\n                    reject(e);\n                }\n            });\n        });\n    }\n    /**\n    * Retrieves information about all frames of a given tab.\n    * @param properties\n    * @returns {Promise<Frame>}\n    */\n    getAllFrames(properties) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => {\n                try {\n                    chrome.webNavigation.getAllFrames(properties, (frames) => resolve(frames));\n                }\n                catch (e) {\n                    reject(e);\n                }\n            });\n        });\n    }\n};\nNavigationService = __decorate([\n    inversify_1.injectable(),\n    __param(0, inversify_1.inject(MARIO_TYPES_1.MARIO_TYPES.INTERNAL_DISPATCHER)),\n    __metadata(\"design:paramtypes\", [Object])\n], NavigationService);\nexports.NavigationService = NavigationService;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UrlsSafeCheckEvents = void 0;\nvar UrlsSafeCheckEvents;\n(function (UrlsSafeCheckEvents) {\n    UrlsSafeCheckEvents[\"SAFE_STATUS_UPDATED\"] = \"URLS_SAFE_CHECK__STATUS_UPDATED\";\n    UrlsSafeCheckEvents[\"GET_ACTIVE_TAB_STATE\"] = \"URLS_SAFE_CHECK__GET_ACTIVE_TAB_STATE\";\n    UrlsSafeCheckEvents[\"MUTE_NOTIFICATION\"] = \"URLS_SAFE_CHECK__MUTE_NOTIFICATION\";\n    UrlsSafeCheckEvents[\"CONTENT_URL_REWRITED\"] = \"URLS_SAFE_CHECK__CONTENT_URL_REWRITED\";\n})(UrlsSafeCheckEvents = exports.UrlsSafeCheckEvents || (exports.UrlsSafeCheckEvents = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GoogleAnalyticsEvents = void 0;\nvar GoogleAnalyticsEvents;\n(function (GoogleAnalyticsEvents) {\n    GoogleAnalyticsEvents[\"TRACK_PAGE\"] = \"GOOGLE_ANALYTICS_TRACK_PAGE\";\n    GoogleAnalyticsEvents[\"TRACK_EVENT\"] = \"GOOGLE_ANALYTICS_TRACK_EVENT\";\n})(GoogleAnalyticsEvents = exports.GoogleAnalyticsEvents || (exports.GoogleAnalyticsEvents = {}));\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nrequire(\"reflect-metadata\");\nconst inversify_1 = require(\"inversify\");\nconst InternalDispatcher_1 = require(\"./Packages/InternalDispatcher/Bg/InternalDispatcher\");\nconst LoggerService_1 = require(\"./Packages/Logger/Bg/LoggerService\");\nconst TabService_1 = require(\"./Packages/Tab/Bg/TabService\");\nconst CoreServiceIsNotRegisteredException_1 = require(\"./Core/Exceptions/CoreServiceIsNotRegisteredException\");\nconst Extension_1 = require(\"./Core/Extension\");\nconst MARIO_TYPES_1 = require(\"./MARIO_TYPES\");\nconst ExternalDispatcher_1 = require(\"./Packages/ExternalDispatcher/Bg/ExternalDispatcher\");\nclass Mario {\n    constructor(browser, options = {}) {\n        this.isInitialized = false;\n        this._container = options.container ? options.container : new inversify_1.Container();\n        this._container.bind(MARIO_TYPES_1.MARIO_TYPES.BROWSER).toConstantValue(browser);\n        this._container.bind(MARIO_TYPES_1.MARIO_TYPES.CONTAINER).toConstantValue(this._container);\n        const loggerService = options.logger ? options.logger : LoggerService_1.LoggerService;\n        const internalDispatcherService = options.internalDispatcher ? options.internalDispatcher : InternalDispatcher_1.InternalDispatcher;\n        const externalDispatcherService = options.externalDispatcher ? options.externalDispatcher : ExternalDispatcher_1.ExternalDispatcher;\n        const tabService = options.tab ? options.tab : TabService_1.TabService;\n        this.registerService(MARIO_TYPES_1.MARIO_TYPES.LOGGER_SERVICE, loggerService);\n        this.logger().log(`Core: this build is for \"${browser.toString()}\"`);\n        this.registerService(MARIO_TYPES_1.MARIO_TYPES.EXTENSION_SERVICE, Extension_1.Extension);\n        this.extension();\n        this.registerService(MARIO_TYPES_1.MARIO_TYPES.INTERNAL_DISPATCHER, internalDispatcherService);\n        this.registerService(MARIO_TYPES_1.MARIO_TYPES.EXTERNAL_DISPATCHER, externalDispatcherService);\n        this.registerService(MARIO_TYPES_1.MARIO_TYPES.TAB_SERVICE, tabService);\n        const globalAny = global;\n        globalAny.window.mario = this;\n        this.coreInitialized();\n    }\n    registerModule(useClass, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const module = new useClass(this);\n            this.logger().log(`Core: registering a module \"${module.name()}\"`);\n            try {\n                yield module.register(options);\n                this.logger().log(`Core: the module \"${module.name()}\" is registered`);\n            }\n            catch (e) {\n                this.logger().error(e);\n            }\n        });\n    }\n    registerService(name, useClass) {\n        if (this.isCoreInitialized()) {\n            this.logger().log(`Core: registered a service \"${name.toString()}\"`);\n        }\n        if (!this.hasService(name)) {\n            this._container.bind(name).to(useClass).inSingletonScope();\n        }\n    }\n    getService(name) {\n        if (!this.hasService(name)) {\n            const message = `Can't get service: service '${name.toString()}' is not registered`;\n            if (this.isCoreInitialized()) {\n                this.logger().warn(message);\n            }\n            throw new CoreServiceIsNotRegisteredException_1.CoreServiceIsNotRegisteredException(message);\n        }\n        return this._container.get(name);\n    }\n    hasService(name) {\n        return this._container.isBound(name);\n    }\n    internalDispatcher() {\n        return this.getService(MARIO_TYPES_1.MARIO_TYPES.INTERNAL_DISPATCHER);\n    }\n    externalDispatcher() {\n        return this.getService(MARIO_TYPES_1.MARIO_TYPES.EXTERNAL_DISPATCHER);\n    }\n    logger() {\n        return this.getService(MARIO_TYPES_1.MARIO_TYPES.LOGGER_SERVICE);\n    }\n    container() {\n        return this._container;\n    }\n    tabService() {\n        return this.getService(MARIO_TYPES_1.MARIO_TYPES.TAB_SERVICE);\n    }\n    extension() {\n        return this.getService(MARIO_TYPES_1.MARIO_TYPES.EXTENSION_SERVICE);\n    }\n    coreInitialized() {\n        this.isInitialized = true;\n    }\n    isCoreInitialized() {\n        return this.isInitialized;\n    }\n}\nexports.Mario = Mario;\n","/*! *****************************************************************************\nCopyright (C) Microsoft. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\nvar Reflect;\n(function (Reflect) {\n    // Metadata Proposal\n    // https://rbuckton.github.io/reflect-metadata/\n    (function (factory) {\n        var root = typeof global === \"object\" ? global :\n            typeof self === \"object\" ? self :\n                typeof this === \"object\" ? this :\n                    Function(\"return this;\")();\n        var exporter = makeExporter(Reflect);\n        if (typeof root.Reflect === \"undefined\") {\n            root.Reflect = Reflect;\n        }\n        else {\n            exporter = makeExporter(root.Reflect, exporter);\n        }\n        factory(exporter);\n        function makeExporter(target, previous) {\n            return function (key, value) {\n                if (typeof target[key] !== \"function\") {\n                    Object.defineProperty(target, key, { configurable: true, writable: true, value: value });\n                }\n                if (previous)\n                    previous(key, value);\n            };\n        }\n    })(function (exporter) {\n        var hasOwn = Object.prototype.hasOwnProperty;\n        // feature test for Symbol support\n        var supportsSymbol = typeof Symbol === \"function\";\n        var toPrimitiveSymbol = supportsSymbol && typeof Symbol.toPrimitive !== \"undefined\" ? Symbol.toPrimitive : \"@@toPrimitive\";\n        var iteratorSymbol = supportsSymbol && typeof Symbol.iterator !== \"undefined\" ? Symbol.iterator : \"@@iterator\";\n        var supportsCreate = typeof Object.create === \"function\"; // feature test for Object.create support\n        var supportsProto = { __proto__: [] } instanceof Array; // feature test for __proto__ support\n        var downLevel = !supportsCreate && !supportsProto;\n        var HashMap = {\n            // create an object in dictionary mode (a.k.a. \"slow\" mode in v8)\n            create: supportsCreate\n                ? function () { return MakeDictionary(Object.create(null)); }\n                : supportsProto\n                    ? function () { return MakeDictionary({ __proto__: null }); }\n                    : function () { return MakeDictionary({}); },\n            has: downLevel\n                ? function (map, key) { return hasOwn.call(map, key); }\n                : function (map, key) { return key in map; },\n            get: downLevel\n                ? function (map, key) { return hasOwn.call(map, key) ? map[key] : undefined; }\n                : function (map, key) { return map[key]; },\n        };\n        // Load global or shim versions of Map, Set, and WeakMap\n        var functionPrototype = Object.getPrototypeOf(Function);\n        var usePolyfill = typeof process === \"object\" && process.env && process.env[\"REFLECT_METADATA_USE_MAP_POLYFILL\"] === \"true\";\n        var _Map = !usePolyfill && typeof Map === \"function\" && typeof Map.prototype.entries === \"function\" ? Map : CreateMapPolyfill();\n        var _Set = !usePolyfill && typeof Set === \"function\" && typeof Set.prototype.entries === \"function\" ? Set : CreateSetPolyfill();\n        var _WeakMap = !usePolyfill && typeof WeakMap === \"function\" ? WeakMap : CreateWeakMapPolyfill();\n        // [[Metadata]] internal slot\n        // https://rbuckton.github.io/reflect-metadata/#ordinary-object-internal-methods-and-internal-slots\n        var Metadata = new _WeakMap();\n        /**\n         * Applies a set of decorators to a property of a target object.\n         * @param decorators An array of decorators.\n         * @param target The target object.\n         * @param propertyKey (Optional) The property key to decorate.\n         * @param attributes (Optional) The property descriptor for the target key.\n         * @remarks Decorators are applied in reverse order.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     Example = Reflect.decorate(decoratorsArray, Example);\n         *\n         *     // property (on constructor)\n         *     Reflect.decorate(decoratorsArray, Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     Reflect.decorate(decoratorsArray, Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     Object.defineProperty(Example, \"staticMethod\",\n         *         Reflect.decorate(decoratorsArray, Example, \"staticMethod\",\n         *             Object.getOwnPropertyDescriptor(Example, \"staticMethod\")));\n         *\n         *     // method (on prototype)\n         *     Object.defineProperty(Example.prototype, \"method\",\n         *         Reflect.decorate(decoratorsArray, Example.prototype, \"method\",\n         *             Object.getOwnPropertyDescriptor(Example.prototype, \"method\")));\n         *\n         */\n        function decorate(decorators, target, propertyKey, attributes) {\n            if (!IsUndefined(propertyKey)) {\n                if (!IsArray(decorators))\n                    throw new TypeError();\n                if (!IsObject(target))\n                    throw new TypeError();\n                if (!IsObject(attributes) && !IsUndefined(attributes) && !IsNull(attributes))\n                    throw new TypeError();\n                if (IsNull(attributes))\n                    attributes = undefined;\n                propertyKey = ToPropertyKey(propertyKey);\n                return DecorateProperty(decorators, target, propertyKey, attributes);\n            }\n            else {\n                if (!IsArray(decorators))\n                    throw new TypeError();\n                if (!IsConstructor(target))\n                    throw new TypeError();\n                return DecorateConstructor(decorators, target);\n            }\n        }\n        exporter(\"decorate\", decorate);\n        // 4.1.2 Reflect.metadata(metadataKey, metadataValue)\n        // https://rbuckton.github.io/reflect-metadata/#reflect.metadata\n        /**\n         * A default metadata decorator factory that can be used on a class, class member, or parameter.\n         * @param metadataKey The key for the metadata entry.\n         * @param metadataValue The value for the metadata entry.\n         * @returns A decorator function.\n         * @remarks\n         * If `metadataKey` is already defined for the target and target key, the\n         * metadataValue for that key will be overwritten.\n         * @example\n         *\n         *     // constructor\n         *     @Reflect.metadata(key, value)\n         *     class Example {\n         *     }\n         *\n         *     // property (on constructor, TypeScript only)\n         *     class Example {\n         *         @Reflect.metadata(key, value)\n         *         static staticProperty;\n         *     }\n         *\n         *     // property (on prototype, TypeScript only)\n         *     class Example {\n         *         @Reflect.metadata(key, value)\n         *         property;\n         *     }\n         *\n         *     // method (on constructor)\n         *     class Example {\n         *         @Reflect.metadata(key, value)\n         *         static staticMethod() { }\n         *     }\n         *\n         *     // method (on prototype)\n         *     class Example {\n         *         @Reflect.metadata(key, value)\n         *         method() { }\n         *     }\n         *\n         */\n        function metadata(metadataKey, metadataValue) {\n            function decorator(target, propertyKey) {\n                if (!IsObject(target))\n                    throw new TypeError();\n                if (!IsUndefined(propertyKey) && !IsPropertyKey(propertyKey))\n                    throw new TypeError();\n                OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, propertyKey);\n            }\n            return decorator;\n        }\n        exporter(\"metadata\", metadata);\n        /**\n         * Define a unique metadata entry on the target.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param metadataValue A value that contains attached metadata.\n         * @param target The target object on which to define metadata.\n         * @param propertyKey (Optional) The property key for the target.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example);\n         *\n         *     // property (on constructor)\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example.prototype, \"method\");\n         *\n         *     // decorator factory as metadata-producing annotation.\n         *     function MyAnnotation(options): Decorator {\n         *         return (target, key?) => Reflect.defineMetadata(\"custom:annotation\", options, target, key);\n         *     }\n         *\n         */\n        function defineMetadata(metadataKey, metadataValue, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, propertyKey);\n        }\n        exporter(\"defineMetadata\", defineMetadata);\n        /**\n         * Gets a value indicating whether the target object or its prototype chain has the provided metadata key defined.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns `true` if the metadata key was defined on the target object or its prototype chain; otherwise, `false`.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function hasMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryHasMetadata(metadataKey, target, propertyKey);\n        }\n        exporter(\"hasMetadata\", hasMetadata);\n        /**\n         * Gets a value indicating whether the target object has the provided metadata key defined.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns `true` if the metadata key was defined on the target object; otherwise, `false`.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function hasOwnMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryHasOwnMetadata(metadataKey, target, propertyKey);\n        }\n        exporter(\"hasOwnMetadata\", hasOwnMetadata);\n        /**\n         * Gets the metadata value for the provided metadata key on the target object or its prototype chain.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns The metadata value for the metadata key if found; otherwise, `undefined`.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function getMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryGetMetadata(metadataKey, target, propertyKey);\n        }\n        exporter(\"getMetadata\", getMetadata);\n        /**\n         * Gets the metadata value for the provided metadata key on the target object.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns The metadata value for the metadata key if found; otherwise, `undefined`.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function getOwnMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryGetOwnMetadata(metadataKey, target, propertyKey);\n        }\n        exporter(\"getOwnMetadata\", getOwnMetadata);\n        /**\n         * Gets the metadata keys defined on the target object or its prototype chain.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns An array of unique metadata keys.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.getMetadataKeys(Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.getMetadataKeys(Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.getMetadataKeys(Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.getMetadataKeys(Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.getMetadataKeys(Example.prototype, \"method\");\n         *\n         */\n        function getMetadataKeys(target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryMetadataKeys(target, propertyKey);\n        }\n        exporter(\"getMetadataKeys\", getMetadataKeys);\n        /**\n         * Gets the unique metadata keys defined on the target object.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns An array of unique metadata keys.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.getOwnMetadataKeys(Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.getOwnMetadataKeys(Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.getOwnMetadataKeys(Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.getOwnMetadataKeys(Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.getOwnMetadataKeys(Example.prototype, \"method\");\n         *\n         */\n        function getOwnMetadataKeys(target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryOwnMetadataKeys(target, propertyKey);\n        }\n        exporter(\"getOwnMetadataKeys\", getOwnMetadataKeys);\n        /**\n         * Deletes the metadata entry from the target object with the provided key.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns `true` if the metadata entry was found and deleted; otherwise, false.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function deleteMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            var metadataMap = GetOrCreateMetadataMap(target, propertyKey, /*Create*/ false);\n            if (IsUndefined(metadataMap))\n                return false;\n            if (!metadataMap.delete(metadataKey))\n                return false;\n            if (metadataMap.size > 0)\n                return true;\n            var targetMetadata = Metadata.get(target);\n            targetMetadata.delete(propertyKey);\n            if (targetMetadata.size > 0)\n                return true;\n            Metadata.delete(target);\n            return true;\n        }\n        exporter(\"deleteMetadata\", deleteMetadata);\n        function DecorateConstructor(decorators, target) {\n            for (var i = decorators.length - 1; i >= 0; --i) {\n                var decorator = decorators[i];\n                var decorated = decorator(target);\n                if (!IsUndefined(decorated) && !IsNull(decorated)) {\n                    if (!IsConstructor(decorated))\n                        throw new TypeError();\n                    target = decorated;\n                }\n            }\n            return target;\n        }\n        function DecorateProperty(decorators, target, propertyKey, descriptor) {\n            for (var i = decorators.length - 1; i >= 0; --i) {\n                var decorator = decorators[i];\n                var decorated = decorator(target, propertyKey, descriptor);\n                if (!IsUndefined(decorated) && !IsNull(decorated)) {\n                    if (!IsObject(decorated))\n                        throw new TypeError();\n                    descriptor = decorated;\n                }\n            }\n            return descriptor;\n        }\n        function GetOrCreateMetadataMap(O, P, Create) {\n            var targetMetadata = Metadata.get(O);\n            if (IsUndefined(targetMetadata)) {\n                if (!Create)\n                    return undefined;\n                targetMetadata = new _Map();\n                Metadata.set(O, targetMetadata);\n            }\n            var metadataMap = targetMetadata.get(P);\n            if (IsUndefined(metadataMap)) {\n                if (!Create)\n                    return undefined;\n                metadataMap = new _Map();\n                targetMetadata.set(P, metadataMap);\n            }\n            return metadataMap;\n        }\n        // 3.1.1.1 OrdinaryHasMetadata(MetadataKey, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinaryhasmetadata\n        function OrdinaryHasMetadata(MetadataKey, O, P) {\n            var hasOwn = OrdinaryHasOwnMetadata(MetadataKey, O, P);\n            if (hasOwn)\n                return true;\n            var parent = OrdinaryGetPrototypeOf(O);\n            if (!IsNull(parent))\n                return OrdinaryHasMetadata(MetadataKey, parent, P);\n            return false;\n        }\n        // 3.1.2.1 OrdinaryHasOwnMetadata(MetadataKey, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinaryhasownmetadata\n        function OrdinaryHasOwnMetadata(MetadataKey, O, P) {\n            var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\n            if (IsUndefined(metadataMap))\n                return false;\n            return ToBoolean(metadataMap.has(MetadataKey));\n        }\n        // 3.1.3.1 OrdinaryGetMetadata(MetadataKey, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinarygetmetadata\n        function OrdinaryGetMetadata(MetadataKey, O, P) {\n            var hasOwn = OrdinaryHasOwnMetadata(MetadataKey, O, P);\n            if (hasOwn)\n                return OrdinaryGetOwnMetadata(MetadataKey, O, P);\n            var parent = OrdinaryGetPrototypeOf(O);\n            if (!IsNull(parent))\n                return OrdinaryGetMetadata(MetadataKey, parent, P);\n            return undefined;\n        }\n        // 3.1.4.1 OrdinaryGetOwnMetadata(MetadataKey, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinarygetownmetadata\n        function OrdinaryGetOwnMetadata(MetadataKey, O, P) {\n            var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\n            if (IsUndefined(metadataMap))\n                return undefined;\n            return metadataMap.get(MetadataKey);\n        }\n        // 3.1.5.1 OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinarydefineownmetadata\n        function OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P) {\n            var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ true);\n            metadataMap.set(MetadataKey, MetadataValue);\n        }\n        // 3.1.6.1 OrdinaryMetadataKeys(O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinarymetadatakeys\n        function OrdinaryMetadataKeys(O, P) {\n            var ownKeys = OrdinaryOwnMetadataKeys(O, P);\n            var parent = OrdinaryGetPrototypeOf(O);\n            if (parent === null)\n                return ownKeys;\n            var parentKeys = OrdinaryMetadataKeys(parent, P);\n            if (parentKeys.length <= 0)\n                return ownKeys;\n            if (ownKeys.length <= 0)\n                return parentKeys;\n            var set = new _Set();\n            var keys = [];\n            for (var _i = 0, ownKeys_1 = ownKeys; _i < ownKeys_1.length; _i++) {\n                var key = ownKeys_1[_i];\n                var hasKey = set.has(key);\n                if (!hasKey) {\n                    set.add(key);\n                    keys.push(key);\n                }\n            }\n            for (var _a = 0, parentKeys_1 = parentKeys; _a < parentKeys_1.length; _a++) {\n                var key = parentKeys_1[_a];\n                var hasKey = set.has(key);\n                if (!hasKey) {\n                    set.add(key);\n                    keys.push(key);\n                }\n            }\n            return keys;\n        }\n        // 3.1.7.1 OrdinaryOwnMetadataKeys(O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinaryownmetadatakeys\n        function OrdinaryOwnMetadataKeys(O, P) {\n            var keys = [];\n            var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\n            if (IsUndefined(metadataMap))\n                return keys;\n            var keysObj = metadataMap.keys();\n            var iterator = GetIterator(keysObj);\n            var k = 0;\n            while (true) {\n                var next = IteratorStep(iterator);\n                if (!next) {\n                    keys.length = k;\n                    return keys;\n                }\n                var nextValue = IteratorValue(next);\n                try {\n                    keys[k] = nextValue;\n                }\n                catch (e) {\n                    try {\n                        IteratorClose(iterator);\n                    }\n                    finally {\n                        throw e;\n                    }\n                }\n                k++;\n            }\n        }\n        // 6 ECMAScript Data Typ0es and Values\n        // https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values\n        function Type(x) {\n            if (x === null)\n                return 1 /* Null */;\n            switch (typeof x) {\n                case \"undefined\": return 0 /* Undefined */;\n                case \"boolean\": return 2 /* Boolean */;\n                case \"string\": return 3 /* String */;\n                case \"symbol\": return 4 /* Symbol */;\n                case \"number\": return 5 /* Number */;\n                case \"object\": return x === null ? 1 /* Null */ : 6 /* Object */;\n                default: return 6 /* Object */;\n            }\n        }\n        // 6.1.1 The Undefined Type\n        // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-undefined-type\n        function IsUndefined(x) {\n            return x === undefined;\n        }\n        // 6.1.2 The Null Type\n        // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-null-type\n        function IsNull(x) {\n            return x === null;\n        }\n        // 6.1.5 The Symbol Type\n        // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-symbol-type\n        function IsSymbol(x) {\n            return typeof x === \"symbol\";\n        }\n        // 6.1.7 The Object Type\n        // https://tc39.github.io/ecma262/#sec-object-type\n        function IsObject(x) {\n            return typeof x === \"object\" ? x !== null : typeof x === \"function\";\n        }\n        // 7.1 Type Conversion\n        // https://tc39.github.io/ecma262/#sec-type-conversion\n        // 7.1.1 ToPrimitive(input [, PreferredType])\n        // https://tc39.github.io/ecma262/#sec-toprimitive\n        function ToPrimitive(input, PreferredType) {\n            switch (Type(input)) {\n                case 0 /* Undefined */: return input;\n                case 1 /* Null */: return input;\n                case 2 /* Boolean */: return input;\n                case 3 /* String */: return input;\n                case 4 /* Symbol */: return input;\n                case 5 /* Number */: return input;\n            }\n            var hint = PreferredType === 3 /* String */ ? \"string\" : PreferredType === 5 /* Number */ ? \"number\" : \"default\";\n            var exoticToPrim = GetMethod(input, toPrimitiveSymbol);\n            if (exoticToPrim !== undefined) {\n                var result = exoticToPrim.call(input, hint);\n                if (IsObject(result))\n                    throw new TypeError();\n                return result;\n            }\n            return OrdinaryToPrimitive(input, hint === \"default\" ? \"number\" : hint);\n        }\n        // 7.1.1.1 OrdinaryToPrimitive(O, hint)\n        // https://tc39.github.io/ecma262/#sec-ordinarytoprimitive\n        function OrdinaryToPrimitive(O, hint) {\n            if (hint === \"string\") {\n                var toString_1 = O.toString;\n                if (IsCallable(toString_1)) {\n                    var result = toString_1.call(O);\n                    if (!IsObject(result))\n                        return result;\n                }\n                var valueOf = O.valueOf;\n                if (IsCallable(valueOf)) {\n                    var result = valueOf.call(O);\n                    if (!IsObject(result))\n                        return result;\n                }\n            }\n            else {\n                var valueOf = O.valueOf;\n                if (IsCallable(valueOf)) {\n                    var result = valueOf.call(O);\n                    if (!IsObject(result))\n                        return result;\n                }\n                var toString_2 = O.toString;\n                if (IsCallable(toString_2)) {\n                    var result = toString_2.call(O);\n                    if (!IsObject(result))\n                        return result;\n                }\n            }\n            throw new TypeError();\n        }\n        // 7.1.2 ToBoolean(argument)\n        // https://tc39.github.io/ecma262/2016/#sec-toboolean\n        function ToBoolean(argument) {\n            return !!argument;\n        }\n        // 7.1.12 ToString(argument)\n        // https://tc39.github.io/ecma262/#sec-tostring\n        function ToString(argument) {\n            return \"\" + argument;\n        }\n        // 7.1.14 ToPropertyKey(argument)\n        // https://tc39.github.io/ecma262/#sec-topropertykey\n        function ToPropertyKey(argument) {\n            var key = ToPrimitive(argument, 3 /* String */);\n            if (IsSymbol(key))\n                return key;\n            return ToString(key);\n        }\n        // 7.2 Testing and Comparison Operations\n        // https://tc39.github.io/ecma262/#sec-testing-and-comparison-operations\n        // 7.2.2 IsArray(argument)\n        // https://tc39.github.io/ecma262/#sec-isarray\n        function IsArray(argument) {\n            return Array.isArray\n                ? Array.isArray(argument)\n                : argument instanceof Object\n                    ? argument instanceof Array\n                    : Object.prototype.toString.call(argument) === \"[object Array]\";\n        }\n        // 7.2.3 IsCallable(argument)\n        // https://tc39.github.io/ecma262/#sec-iscallable\n        function IsCallable(argument) {\n            // NOTE: This is an approximation as we cannot check for [[Call]] internal method.\n            return typeof argument === \"function\";\n        }\n        // 7.2.4 IsConstructor(argument)\n        // https://tc39.github.io/ecma262/#sec-isconstructor\n        function IsConstructor(argument) {\n            // NOTE: This is an approximation as we cannot check for [[Construct]] internal method.\n            return typeof argument === \"function\";\n        }\n        // 7.2.7 IsPropertyKey(argument)\n        // https://tc39.github.io/ecma262/#sec-ispropertykey\n        function IsPropertyKey(argument) {\n            switch (Type(argument)) {\n                case 3 /* String */: return true;\n                case 4 /* Symbol */: return true;\n                default: return false;\n            }\n        }\n        // 7.3 Operations on Objects\n        // https://tc39.github.io/ecma262/#sec-operations-on-objects\n        // 7.3.9 GetMethod(V, P)\n        // https://tc39.github.io/ecma262/#sec-getmethod\n        function GetMethod(V, P) {\n            var func = V[P];\n            if (func === undefined || func === null)\n                return undefined;\n            if (!IsCallable(func))\n                throw new TypeError();\n            return func;\n        }\n        // 7.4 Operations on Iterator Objects\n        // https://tc39.github.io/ecma262/#sec-operations-on-iterator-objects\n        function GetIterator(obj) {\n            var method = GetMethod(obj, iteratorSymbol);\n            if (!IsCallable(method))\n                throw new TypeError(); // from Call\n            var iterator = method.call(obj);\n            if (!IsObject(iterator))\n                throw new TypeError();\n            return iterator;\n        }\n        // 7.4.4 IteratorValue(iterResult)\n        // https://tc39.github.io/ecma262/2016/#sec-iteratorvalue\n        function IteratorValue(iterResult) {\n            return iterResult.value;\n        }\n        // 7.4.5 IteratorStep(iterator)\n        // https://tc39.github.io/ecma262/#sec-iteratorstep\n        function IteratorStep(iterator) {\n            var result = iterator.next();\n            return result.done ? false : result;\n        }\n        // 7.4.6 IteratorClose(iterator, completion)\n        // https://tc39.github.io/ecma262/#sec-iteratorclose\n        function IteratorClose(iterator) {\n            var f = iterator[\"return\"];\n            if (f)\n                f.call(iterator);\n        }\n        // 9.1 Ordinary Object Internal Methods and Internal Slots\n        // https://tc39.github.io/ecma262/#sec-ordinary-object-internal-methods-and-internal-slots\n        // 9.1.1.1 OrdinaryGetPrototypeOf(O)\n        // https://tc39.github.io/ecma262/#sec-ordinarygetprototypeof\n        function OrdinaryGetPrototypeOf(O) {\n            var proto = Object.getPrototypeOf(O);\n            if (typeof O !== \"function\" || O === functionPrototype)\n                return proto;\n            // TypeScript doesn't set __proto__ in ES5, as it's non-standard.\n            // Try to determine the superclass constructor. Compatible implementations\n            // must either set __proto__ on a subclass constructor to the superclass constructor,\n            // or ensure each class has a valid `constructor` property on its prototype that\n            // points back to the constructor.\n            // If this is not the same as Function.[[Prototype]], then this is definately inherited.\n            // This is the case when in ES6 or when using __proto__ in a compatible browser.\n            if (proto !== functionPrototype)\n                return proto;\n            // If the super prototype is Object.prototype, null, or undefined, then we cannot determine the heritage.\n            var prototype = O.prototype;\n            var prototypeProto = prototype && Object.getPrototypeOf(prototype);\n            if (prototypeProto == null || prototypeProto === Object.prototype)\n                return proto;\n            // If the constructor was not a function, then we cannot determine the heritage.\n            var constructor = prototypeProto.constructor;\n            if (typeof constructor !== \"function\")\n                return proto;\n            // If we have some kind of self-reference, then we cannot determine the heritage.\n            if (constructor === O)\n                return proto;\n            // we have a pretty good guess at the heritage.\n            return constructor;\n        }\n        // naive Map shim\n        function CreateMapPolyfill() {\n            var cacheSentinel = {};\n            var arraySentinel = [];\n            var MapIterator = /** @class */ (function () {\n                function MapIterator(keys, values, selector) {\n                    this._index = 0;\n                    this._keys = keys;\n                    this._values = values;\n                    this._selector = selector;\n                }\n                MapIterator.prototype[\"@@iterator\"] = function () { return this; };\n                MapIterator.prototype[iteratorSymbol] = function () { return this; };\n                MapIterator.prototype.next = function () {\n                    var index = this._index;\n                    if (index >= 0 && index < this._keys.length) {\n                        var result = this._selector(this._keys[index], this._values[index]);\n                        if (index + 1 >= this._keys.length) {\n                            this._index = -1;\n                            this._keys = arraySentinel;\n                            this._values = arraySentinel;\n                        }\n                        else {\n                            this._index++;\n                        }\n                        return { value: result, done: false };\n                    }\n                    return { value: undefined, done: true };\n                };\n                MapIterator.prototype.throw = function (error) {\n                    if (this._index >= 0) {\n                        this._index = -1;\n                        this._keys = arraySentinel;\n                        this._values = arraySentinel;\n                    }\n                    throw error;\n                };\n                MapIterator.prototype.return = function (value) {\n                    if (this._index >= 0) {\n                        this._index = -1;\n                        this._keys = arraySentinel;\n                        this._values = arraySentinel;\n                    }\n                    return { value: value, done: true };\n                };\n                return MapIterator;\n            }());\n            return /** @class */ (function () {\n                function Map() {\n                    this._keys = [];\n                    this._values = [];\n                    this._cacheKey = cacheSentinel;\n                    this._cacheIndex = -2;\n                }\n                Object.defineProperty(Map.prototype, \"size\", {\n                    get: function () { return this._keys.length; },\n                    enumerable: true,\n                    configurable: true\n                });\n                Map.prototype.has = function (key) { return this._find(key, /*insert*/ false) >= 0; };\n                Map.prototype.get = function (key) {\n                    var index = this._find(key, /*insert*/ false);\n                    return index >= 0 ? this._values[index] : undefined;\n                };\n                Map.prototype.set = function (key, value) {\n                    var index = this._find(key, /*insert*/ true);\n                    this._values[index] = value;\n                    return this;\n                };\n                Map.prototype.delete = function (key) {\n                    var index = this._find(key, /*insert*/ false);\n                    if (index >= 0) {\n                        var size = this._keys.length;\n                        for (var i = index + 1; i < size; i++) {\n                            this._keys[i - 1] = this._keys[i];\n                            this._values[i - 1] = this._values[i];\n                        }\n                        this._keys.length--;\n                        this._values.length--;\n                        if (key === this._cacheKey) {\n                            this._cacheKey = cacheSentinel;\n                            this._cacheIndex = -2;\n                        }\n                        return true;\n                    }\n                    return false;\n                };\n                Map.prototype.clear = function () {\n                    this._keys.length = 0;\n                    this._values.length = 0;\n                    this._cacheKey = cacheSentinel;\n                    this._cacheIndex = -2;\n                };\n                Map.prototype.keys = function () { return new MapIterator(this._keys, this._values, getKey); };\n                Map.prototype.values = function () { return new MapIterator(this._keys, this._values, getValue); };\n                Map.prototype.entries = function () { return new MapIterator(this._keys, this._values, getEntry); };\n                Map.prototype[\"@@iterator\"] = function () { return this.entries(); };\n                Map.prototype[iteratorSymbol] = function () { return this.entries(); };\n                Map.prototype._find = function (key, insert) {\n                    if (this._cacheKey !== key) {\n                        this._cacheIndex = this._keys.indexOf(this._cacheKey = key);\n                    }\n                    if (this._cacheIndex < 0 && insert) {\n                        this._cacheIndex = this._keys.length;\n                        this._keys.push(key);\n                        this._values.push(undefined);\n                    }\n                    return this._cacheIndex;\n                };\n                return Map;\n            }());\n            function getKey(key, _) {\n                return key;\n            }\n            function getValue(_, value) {\n                return value;\n            }\n            function getEntry(key, value) {\n                return [key, value];\n            }\n        }\n        // naive Set shim\n        function CreateSetPolyfill() {\n            return /** @class */ (function () {\n                function Set() {\n                    this._map = new _Map();\n                }\n                Object.defineProperty(Set.prototype, \"size\", {\n                    get: function () { return this._map.size; },\n                    enumerable: true,\n                    configurable: true\n                });\n                Set.prototype.has = function (value) { return this._map.has(value); };\n                Set.prototype.add = function (value) { return this._map.set(value, value), this; };\n                Set.prototype.delete = function (value) { return this._map.delete(value); };\n                Set.prototype.clear = function () { this._map.clear(); };\n                Set.prototype.keys = function () { return this._map.keys(); };\n                Set.prototype.values = function () { return this._map.values(); };\n                Set.prototype.entries = function () { return this._map.entries(); };\n                Set.prototype[\"@@iterator\"] = function () { return this.keys(); };\n                Set.prototype[iteratorSymbol] = function () { return this.keys(); };\n                return Set;\n            }());\n        }\n        // naive WeakMap shim\n        function CreateWeakMapPolyfill() {\n            var UUID_SIZE = 16;\n            var keys = HashMap.create();\n            var rootKey = CreateUniqueKey();\n            return /** @class */ (function () {\n                function WeakMap() {\n                    this._key = CreateUniqueKey();\n                }\n                WeakMap.prototype.has = function (target) {\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ false);\n                    return table !== undefined ? HashMap.has(table, this._key) : false;\n                };\n                WeakMap.prototype.get = function (target) {\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ false);\n                    return table !== undefined ? HashMap.get(table, this._key) : undefined;\n                };\n                WeakMap.prototype.set = function (target, value) {\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ true);\n                    table[this._key] = value;\n                    return this;\n                };\n                WeakMap.prototype.delete = function (target) {\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ false);\n                    return table !== undefined ? delete table[this._key] : false;\n                };\n                WeakMap.prototype.clear = function () {\n                    // NOTE: not a real clear, just makes the previous data unreachable\n                    this._key = CreateUniqueKey();\n                };\n                return WeakMap;\n            }());\n            function CreateUniqueKey() {\n                var key;\n                do\n                    key = \"@@WeakMap@@\" + CreateUUID();\n                while (HashMap.has(keys, key));\n                keys[key] = true;\n                return key;\n            }\n            function GetOrCreateWeakMapTable(target, create) {\n                if (!hasOwn.call(target, rootKey)) {\n                    if (!create)\n                        return undefined;\n                    Object.defineProperty(target, rootKey, { value: HashMap.create() });\n                }\n                return target[rootKey];\n            }\n            function FillRandomBytes(buffer, size) {\n                for (var i = 0; i < size; ++i)\n                    buffer[i] = Math.random() * 0xff | 0;\n                return buffer;\n            }\n            function GenRandomBytes(size) {\n                if (typeof Uint8Array === \"function\") {\n                    if (typeof crypto !== \"undefined\")\n                        return crypto.getRandomValues(new Uint8Array(size));\n                    if (typeof msCrypto !== \"undefined\")\n                        return msCrypto.getRandomValues(new Uint8Array(size));\n                    return FillRandomBytes(new Uint8Array(size), size);\n                }\n                return FillRandomBytes(new Array(size), size);\n            }\n            function CreateUUID() {\n                var data = GenRandomBytes(UUID_SIZE);\n                // mark as random - RFC 4122  4.4\n                data[6] = data[6] & 0x4f | 0x40;\n                data[8] = data[8] & 0xbf | 0x80;\n                var result = \"\";\n                for (var offset = 0; offset < UUID_SIZE; ++offset) {\n                    var byte = data[offset];\n                    if (offset === 4 || offset === 6 || offset === 8)\n                        result += \"-\";\n                    if (byte < 16)\n                        result += \"0\";\n                    result += byte.toString(16).toLowerCase();\n                }\n                return result;\n            }\n        }\n        // uses a heuristic used by v8 and chakra to force an object into dictionary mode.\n        function MakeDictionary(obj) {\n            obj.__ = undefined;\n            delete obj.__;\n            return obj;\n        }\n    });\n})(Reflect || (Reflect = {}));\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar binding_1 = require(\"../bindings/binding\");\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_reader_1 = require(\"../planning/metadata_reader\");\nvar planner_1 = require(\"../planning/planner\");\nvar resolver_1 = require(\"../resolution/resolver\");\nvar binding_to_syntax_1 = require(\"../syntax/binding_to_syntax\");\nvar id_1 = require(\"../utils/id\");\nvar serialization_1 = require(\"../utils/serialization\");\nvar container_snapshot_1 = require(\"./container_snapshot\");\nvar lookup_1 = require(\"./lookup\");\nvar Container = (function () {\n    function Container(containerOptions) {\n        var options = containerOptions || {};\n        if (typeof options !== \"object\") {\n            throw new Error(\"\" + ERROR_MSGS.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);\n        }\n        if (options.defaultScope === undefined) {\n            options.defaultScope = literal_types_1.BindingScopeEnum.Transient;\n        }\n        else if (options.defaultScope !== literal_types_1.BindingScopeEnum.Singleton &&\n            options.defaultScope !== literal_types_1.BindingScopeEnum.Transient &&\n            options.defaultScope !== literal_types_1.BindingScopeEnum.Request) {\n            throw new Error(\"\" + ERROR_MSGS.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);\n        }\n        if (options.autoBindInjectable === undefined) {\n            options.autoBindInjectable = false;\n        }\n        else if (typeof options.autoBindInjectable !== \"boolean\") {\n            throw new Error(\"\" + ERROR_MSGS.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);\n        }\n        if (options.skipBaseClassChecks === undefined) {\n            options.skipBaseClassChecks = false;\n        }\n        else if (typeof options.skipBaseClassChecks !== \"boolean\") {\n            throw new Error(\"\" + ERROR_MSGS.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);\n        }\n        this.options = {\n            autoBindInjectable: options.autoBindInjectable,\n            defaultScope: options.defaultScope,\n            skipBaseClassChecks: options.skipBaseClassChecks\n        };\n        this.id = id_1.id();\n        this._bindingDictionary = new lookup_1.Lookup();\n        this._snapshots = [];\n        this._middleware = null;\n        this.parent = null;\n        this._metadataReader = new metadata_reader_1.MetadataReader();\n    }\n    Container.merge = function (container1, container2) {\n        var container = new Container();\n        var bindingDictionary = planner_1.getBindingDictionary(container);\n        var bindingDictionary1 = planner_1.getBindingDictionary(container1);\n        var bindingDictionary2 = planner_1.getBindingDictionary(container2);\n        function copyDictionary(origin, destination) {\n            origin.traverse(function (key, value) {\n                value.forEach(function (binding) {\n                    destination.add(binding.serviceIdentifier, binding.clone());\n                });\n            });\n        }\n        copyDictionary(bindingDictionary1, bindingDictionary);\n        copyDictionary(bindingDictionary2, bindingDictionary);\n        return container;\n    };\n    Container.prototype.load = function () {\n        var modules = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            modules[_i] = arguments[_i];\n        }\n        var getHelpers = this._getContainerModuleHelpersFactory();\n        for (var _a = 0, modules_1 = modules; _a < modules_1.length; _a++) {\n            var currentModule = modules_1[_a];\n            var containerModuleHelpers = getHelpers(currentModule.id);\n            currentModule.registry(containerModuleHelpers.bindFunction, containerModuleHelpers.unbindFunction, containerModuleHelpers.isboundFunction, containerModuleHelpers.rebindFunction);\n        }\n    };\n    Container.prototype.loadAsync = function () {\n        var modules = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            modules[_i] = arguments[_i];\n        }\n        return __awaiter(this, void 0, void 0, function () {\n            var getHelpers, _a, modules_2, currentModule, containerModuleHelpers;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        getHelpers = this._getContainerModuleHelpersFactory();\n                        _a = 0, modules_2 = modules;\n                        _b.label = 1;\n                    case 1:\n                        if (!(_a < modules_2.length)) return [3, 4];\n                        currentModule = modules_2[_a];\n                        containerModuleHelpers = getHelpers(currentModule.id);\n                        return [4, currentModule.registry(containerModuleHelpers.bindFunction, containerModuleHelpers.unbindFunction, containerModuleHelpers.isboundFunction, containerModuleHelpers.rebindFunction)];\n                    case 2:\n                        _b.sent();\n                        _b.label = 3;\n                    case 3:\n                        _a++;\n                        return [3, 1];\n                    case 4: return [2];\n                }\n            });\n        });\n    };\n    Container.prototype.unload = function () {\n        var _this = this;\n        var modules = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            modules[_i] = arguments[_i];\n        }\n        var conditionFactory = function (expected) { return function (item) {\n            return item.moduleId === expected;\n        }; };\n        modules.forEach(function (module) {\n            var condition = conditionFactory(module.id);\n            _this._bindingDictionary.removeByCondition(condition);\n        });\n    };\n    Container.prototype.bind = function (serviceIdentifier) {\n        var scope = this.options.defaultScope || literal_types_1.BindingScopeEnum.Transient;\n        var binding = new binding_1.Binding(serviceIdentifier, scope);\n        this._bindingDictionary.add(serviceIdentifier, binding);\n        return new binding_to_syntax_1.BindingToSyntax(binding);\n    };\n    Container.prototype.rebind = function (serviceIdentifier) {\n        this.unbind(serviceIdentifier);\n        return this.bind(serviceIdentifier);\n    };\n    Container.prototype.unbind = function (serviceIdentifier) {\n        try {\n            this._bindingDictionary.remove(serviceIdentifier);\n        }\n        catch (e) {\n            throw new Error(ERROR_MSGS.CANNOT_UNBIND + \" \" + serialization_1.getServiceIdentifierAsString(serviceIdentifier));\n        }\n    };\n    Container.prototype.unbindAll = function () {\n        this._bindingDictionary = new lookup_1.Lookup();\n    };\n    Container.prototype.isBound = function (serviceIdentifier) {\n        var bound = this._bindingDictionary.hasKey(serviceIdentifier);\n        if (!bound && this.parent) {\n            bound = this.parent.isBound(serviceIdentifier);\n        }\n        return bound;\n    };\n    Container.prototype.isBoundNamed = function (serviceIdentifier, named) {\n        return this.isBoundTagged(serviceIdentifier, METADATA_KEY.NAMED_TAG, named);\n    };\n    Container.prototype.isBoundTagged = function (serviceIdentifier, key, value) {\n        var bound = false;\n        if (this._bindingDictionary.hasKey(serviceIdentifier)) {\n            var bindings = this._bindingDictionary.get(serviceIdentifier);\n            var request_1 = planner_1.createMockRequest(this, serviceIdentifier, key, value);\n            bound = bindings.some(function (b) { return b.constraint(request_1); });\n        }\n        if (!bound && this.parent) {\n            bound = this.parent.isBoundTagged(serviceIdentifier, key, value);\n        }\n        return bound;\n    };\n    Container.prototype.snapshot = function () {\n        this._snapshots.push(container_snapshot_1.ContainerSnapshot.of(this._bindingDictionary.clone(), this._middleware));\n    };\n    Container.prototype.restore = function () {\n        var snapshot = this._snapshots.pop();\n        if (snapshot === undefined) {\n            throw new Error(ERROR_MSGS.NO_MORE_SNAPSHOTS_AVAILABLE);\n        }\n        this._bindingDictionary = snapshot.bindings;\n        this._middleware = snapshot.middleware;\n    };\n    Container.prototype.createChild = function (containerOptions) {\n        var child = new Container(containerOptions || this.options);\n        child.parent = this;\n        return child;\n    };\n    Container.prototype.applyMiddleware = function () {\n        var middlewares = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            middlewares[_i] = arguments[_i];\n        }\n        var initial = (this._middleware) ? this._middleware : this._planAndResolve();\n        this._middleware = middlewares.reduce(function (prev, curr) { return curr(prev); }, initial);\n    };\n    Container.prototype.applyCustomMetadataReader = function (metadataReader) {\n        this._metadataReader = metadataReader;\n    };\n    Container.prototype.get = function (serviceIdentifier) {\n        return this._get(false, false, literal_types_1.TargetTypeEnum.Variable, serviceIdentifier);\n    };\n    Container.prototype.getTagged = function (serviceIdentifier, key, value) {\n        return this._get(false, false, literal_types_1.TargetTypeEnum.Variable, serviceIdentifier, key, value);\n    };\n    Container.prototype.getNamed = function (serviceIdentifier, named) {\n        return this.getTagged(serviceIdentifier, METADATA_KEY.NAMED_TAG, named);\n    };\n    Container.prototype.getAll = function (serviceIdentifier) {\n        return this._get(true, true, literal_types_1.TargetTypeEnum.Variable, serviceIdentifier);\n    };\n    Container.prototype.getAllTagged = function (serviceIdentifier, key, value) {\n        return this._get(false, true, literal_types_1.TargetTypeEnum.Variable, serviceIdentifier, key, value);\n    };\n    Container.prototype.getAllNamed = function (serviceIdentifier, named) {\n        return this.getAllTagged(serviceIdentifier, METADATA_KEY.NAMED_TAG, named);\n    };\n    Container.prototype.resolve = function (constructorFunction) {\n        var tempContainer = this.createChild();\n        tempContainer.bind(constructorFunction).toSelf();\n        return tempContainer.get(constructorFunction);\n    };\n    Container.prototype._getContainerModuleHelpersFactory = function () {\n        var _this = this;\n        var setModuleId = function (bindingToSyntax, moduleId) {\n            bindingToSyntax._binding.moduleId = moduleId;\n        };\n        var getBindFunction = function (moduleId) {\n            return function (serviceIdentifier) {\n                var _bind = _this.bind.bind(_this);\n                var bindingToSyntax = _bind(serviceIdentifier);\n                setModuleId(bindingToSyntax, moduleId);\n                return bindingToSyntax;\n            };\n        };\n        var getUnbindFunction = function (moduleId) {\n            return function (serviceIdentifier) {\n                var _unbind = _this.unbind.bind(_this);\n                _unbind(serviceIdentifier);\n            };\n        };\n        var getIsboundFunction = function (moduleId) {\n            return function (serviceIdentifier) {\n                var _isBound = _this.isBound.bind(_this);\n                return _isBound(serviceIdentifier);\n            };\n        };\n        var getRebindFunction = function (moduleId) {\n            return function (serviceIdentifier) {\n                var _rebind = _this.rebind.bind(_this);\n                var bindingToSyntax = _rebind(serviceIdentifier);\n                setModuleId(bindingToSyntax, moduleId);\n                return bindingToSyntax;\n            };\n        };\n        return function (mId) { return ({\n            bindFunction: getBindFunction(mId),\n            isboundFunction: getIsboundFunction(mId),\n            rebindFunction: getRebindFunction(mId),\n            unbindFunction: getUnbindFunction(mId)\n        }); };\n    };\n    Container.prototype._get = function (avoidConstraints, isMultiInject, targetType, serviceIdentifier, key, value) {\n        var result = null;\n        var defaultArgs = {\n            avoidConstraints: avoidConstraints,\n            contextInterceptor: function (context) { return context; },\n            isMultiInject: isMultiInject,\n            key: key,\n            serviceIdentifier: serviceIdentifier,\n            targetType: targetType,\n            value: value\n        };\n        if (this._middleware) {\n            result = this._middleware(defaultArgs);\n            if (result === undefined || result === null) {\n                throw new Error(ERROR_MSGS.INVALID_MIDDLEWARE_RETURN);\n            }\n        }\n        else {\n            result = this._planAndResolve()(defaultArgs);\n        }\n        return result;\n    };\n    Container.prototype._planAndResolve = function () {\n        var _this = this;\n        return function (args) {\n            var context = planner_1.plan(_this._metadataReader, _this, args.isMultiInject, args.targetType, args.serviceIdentifier, args.key, args.value, args.avoidConstraints);\n            context = args.contextInterceptor(context);\n            var result = resolver_1.resolve(context);\n            return result;\n        };\n    };\n    return Container;\n}());\nexports.Container = Container;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar id_1 = require(\"../utils/id\");\nvar Binding = (function () {\n    function Binding(serviceIdentifier, scope) {\n        this.id = id_1.id();\n        this.activated = false;\n        this.serviceIdentifier = serviceIdentifier;\n        this.scope = scope;\n        this.type = literal_types_1.BindingTypeEnum.Invalid;\n        this.constraint = function (request) { return true; };\n        this.implementationType = null;\n        this.cache = null;\n        this.factory = null;\n        this.provider = null;\n        this.onActivation = null;\n        this.dynamicValue = null;\n    }\n    Binding.prototype.clone = function () {\n        var clone = new Binding(this.serviceIdentifier, this.scope);\n        clone.activated = false;\n        clone.implementationType = this.implementationType;\n        clone.dynamicValue = this.dynamicValue;\n        clone.scope = this.scope;\n        clone.type = this.type;\n        clone.factory = this.factory;\n        clone.provider = this.provider;\n        clone.constraint = this.constraint;\n        clone.onActivation = this.onActivation;\n        clone.cache = this.cache;\n        return clone;\n    };\n    return Binding;\n}());\nexports.Binding = Binding;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar binding_count_1 = require(\"../bindings/binding_count\");\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar exceptions_1 = require(\"../utils/exceptions\");\nvar serialization_1 = require(\"../utils/serialization\");\nvar context_1 = require(\"./context\");\nvar metadata_1 = require(\"./metadata\");\nvar plan_1 = require(\"./plan\");\nvar reflection_utils_1 = require(\"./reflection_utils\");\nvar request_1 = require(\"./request\");\nvar target_1 = require(\"./target\");\nfunction getBindingDictionary(cntnr) {\n    return cntnr._bindingDictionary;\n}\nexports.getBindingDictionary = getBindingDictionary;\nfunction _createTarget(isMultiInject, targetType, serviceIdentifier, name, key, value) {\n    var metadataKey = isMultiInject ? METADATA_KEY.MULTI_INJECT_TAG : METADATA_KEY.INJECT_TAG;\n    var injectMetadata = new metadata_1.Metadata(metadataKey, serviceIdentifier);\n    var target = new target_1.Target(targetType, name, serviceIdentifier, injectMetadata);\n    if (key !== undefined) {\n        var tagMetadata = new metadata_1.Metadata(key, value);\n        target.metadata.push(tagMetadata);\n    }\n    return target;\n}\nfunction _getActiveBindings(metadataReader, avoidConstraints, context, parentRequest, target) {\n    var bindings = getBindings(context.container, target.serviceIdentifier);\n    var activeBindings = [];\n    if (bindings.length === binding_count_1.BindingCount.NoBindingsAvailable &&\n        context.container.options.autoBindInjectable &&\n        typeof target.serviceIdentifier === \"function\" &&\n        metadataReader.getConstructorMetadata(target.serviceIdentifier).compilerGeneratedMetadata) {\n        context.container.bind(target.serviceIdentifier).toSelf();\n        bindings = getBindings(context.container, target.serviceIdentifier);\n    }\n    if (!avoidConstraints) {\n        activeBindings = bindings.filter(function (binding) {\n            var request = new request_1.Request(binding.serviceIdentifier, context, parentRequest, binding, target);\n            return binding.constraint(request);\n        });\n    }\n    else {\n        activeBindings = bindings;\n    }\n    _validateActiveBindingCount(target.serviceIdentifier, activeBindings, target, context.container);\n    return activeBindings;\n}\nfunction _validateActiveBindingCount(serviceIdentifier, bindings, target, container) {\n    switch (bindings.length) {\n        case binding_count_1.BindingCount.NoBindingsAvailable:\n            if (target.isOptional()) {\n                return bindings;\n            }\n            else {\n                var serviceIdentifierString = serialization_1.getServiceIdentifierAsString(serviceIdentifier);\n                var msg = ERROR_MSGS.NOT_REGISTERED;\n                msg += serialization_1.listMetadataForTarget(serviceIdentifierString, target);\n                msg += serialization_1.listRegisteredBindingsForServiceIdentifier(container, serviceIdentifierString, getBindings);\n                throw new Error(msg);\n            }\n        case binding_count_1.BindingCount.OnlyOneBindingAvailable:\n            if (!target.isArray()) {\n                return bindings;\n            }\n        case binding_count_1.BindingCount.MultipleBindingsAvailable:\n        default:\n            if (!target.isArray()) {\n                var serviceIdentifierString = serialization_1.getServiceIdentifierAsString(serviceIdentifier);\n                var msg = ERROR_MSGS.AMBIGUOUS_MATCH + \" \" + serviceIdentifierString;\n                msg += serialization_1.listRegisteredBindingsForServiceIdentifier(container, serviceIdentifierString, getBindings);\n                throw new Error(msg);\n            }\n            else {\n                return bindings;\n            }\n    }\n}\nfunction _createSubRequests(metadataReader, avoidConstraints, serviceIdentifier, context, parentRequest, target) {\n    var activeBindings;\n    var childRequest;\n    if (parentRequest === null) {\n        activeBindings = _getActiveBindings(metadataReader, avoidConstraints, context, null, target);\n        childRequest = new request_1.Request(serviceIdentifier, context, null, activeBindings, target);\n        var thePlan = new plan_1.Plan(context, childRequest);\n        context.addPlan(thePlan);\n    }\n    else {\n        activeBindings = _getActiveBindings(metadataReader, avoidConstraints, context, parentRequest, target);\n        childRequest = parentRequest.addChildRequest(target.serviceIdentifier, activeBindings, target);\n    }\n    activeBindings.forEach(function (binding) {\n        var subChildRequest = null;\n        if (target.isArray()) {\n            subChildRequest = childRequest.addChildRequest(binding.serviceIdentifier, binding, target);\n        }\n        else {\n            if (binding.cache) {\n                return;\n            }\n            subChildRequest = childRequest;\n        }\n        if (binding.type === literal_types_1.BindingTypeEnum.Instance && binding.implementationType !== null) {\n            var dependencies = reflection_utils_1.getDependencies(metadataReader, binding.implementationType);\n            if (!context.container.options.skipBaseClassChecks) {\n                var baseClassDependencyCount = reflection_utils_1.getBaseClassDependencyCount(metadataReader, binding.implementationType);\n                if (dependencies.length < baseClassDependencyCount) {\n                    var error = ERROR_MSGS.ARGUMENTS_LENGTH_MISMATCH(reflection_utils_1.getFunctionName(binding.implementationType));\n                    throw new Error(error);\n                }\n            }\n            dependencies.forEach(function (dependency) {\n                _createSubRequests(metadataReader, false, dependency.serviceIdentifier, context, subChildRequest, dependency);\n            });\n        }\n    });\n}\nfunction getBindings(container, serviceIdentifier) {\n    var bindings = [];\n    var bindingDictionary = getBindingDictionary(container);\n    if (bindingDictionary.hasKey(serviceIdentifier)) {\n        bindings = bindingDictionary.get(serviceIdentifier);\n    }\n    else if (container.parent !== null) {\n        bindings = getBindings(container.parent, serviceIdentifier);\n    }\n    return bindings;\n}\nfunction plan(metadataReader, container, isMultiInject, targetType, serviceIdentifier, key, value, avoidConstraints) {\n    if (avoidConstraints === void 0) { avoidConstraints = false; }\n    var context = new context_1.Context(container);\n    var target = _createTarget(isMultiInject, targetType, serviceIdentifier, \"\", key, value);\n    try {\n        _createSubRequests(metadataReader, avoidConstraints, serviceIdentifier, context, null, target);\n        return context;\n    }\n    catch (error) {\n        if (exceptions_1.isStackOverflowExeption(error)) {\n            if (context.plan) {\n                serialization_1.circularDependencyToException(context.plan.rootRequest);\n            }\n        }\n        throw error;\n    }\n}\nexports.plan = plan;\nfunction createMockRequest(container, serviceIdentifier, key, value) {\n    var target = new target_1.Target(literal_types_1.TargetTypeEnum.Variable, \"\", serviceIdentifier, new metadata_1.Metadata(key, value));\n    var context = new context_1.Context(container);\n    var request = new request_1.Request(serviceIdentifier, context, null, [], target);\n    return request;\n}\nexports.createMockRequest = createMockRequest;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BindingCount = {\n    MultipleBindingsAvailable: 2,\n    NoBindingsAvailable: 0,\n    OnlyOneBindingAvailable: 1\n};\nexports.BindingCount = BindingCount;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar id_1 = require(\"../utils/id\");\nvar Context = (function () {\n    function Context(container) {\n        this.id = id_1.id();\n        this.container = container;\n    }\n    Context.prototype.addPlan = function (plan) {\n        this.plan = plan;\n    };\n    Context.prototype.setCurrentRequest = function (currentRequest) {\n        this.currentRequest = currentRequest;\n    };\n    return Context;\n}());\nexports.Context = Context;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar Metadata = (function () {\n    function Metadata(key, value) {\n        this.key = key;\n        this.value = value;\n    }\n    Metadata.prototype.toString = function () {\n        if (this.key === METADATA_KEY.NAMED_TAG) {\n            return \"named: \" + this.value.toString() + \" \";\n        }\n        else {\n            return \"tagged: { key:\" + this.key.toString() + \", value: \" + this.value + \" }\";\n        }\n    };\n    return Metadata;\n}());\nexports.Metadata = Metadata;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Plan = (function () {\n    function Plan(parentContext, rootRequest) {\n        this.parentContext = parentContext;\n        this.rootRequest = rootRequest;\n    }\n    return Plan;\n}());\nexports.Plan = Plan;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inject_1 = require(\"../annotation/inject\");\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar serialization_1 = require(\"../utils/serialization\");\nexports.getFunctionName = serialization_1.getFunctionName;\nvar target_1 = require(\"./target\");\nfunction getDependencies(metadataReader, func) {\n    var constructorName = serialization_1.getFunctionName(func);\n    var targets = getTargets(metadataReader, constructorName, func, false);\n    return targets;\n}\nexports.getDependencies = getDependencies;\nfunction getTargets(metadataReader, constructorName, func, isBaseClass) {\n    var metadata = metadataReader.getConstructorMetadata(func);\n    var serviceIdentifiers = metadata.compilerGeneratedMetadata;\n    if (serviceIdentifiers === undefined) {\n        var msg = ERROR_MSGS.MISSING_INJECTABLE_ANNOTATION + \" \" + constructorName + \".\";\n        throw new Error(msg);\n    }\n    var constructorArgsMetadata = metadata.userGeneratedMetadata;\n    var keys = Object.keys(constructorArgsMetadata);\n    var hasUserDeclaredUnknownInjections = (func.length === 0 && keys.length > 0);\n    var iterations = (hasUserDeclaredUnknownInjections) ? keys.length : func.length;\n    var constructorTargets = getConstructorArgsAsTargets(isBaseClass, constructorName, serviceIdentifiers, constructorArgsMetadata, iterations);\n    var propertyTargets = getClassPropsAsTargets(metadataReader, func);\n    var targets = constructorTargets.concat(propertyTargets);\n    return targets;\n}\nfunction getConstructorArgsAsTarget(index, isBaseClass, constructorName, serviceIdentifiers, constructorArgsMetadata) {\n    var targetMetadata = constructorArgsMetadata[index.toString()] || [];\n    var metadata = formatTargetMetadata(targetMetadata);\n    var isManaged = metadata.unmanaged !== true;\n    var serviceIdentifier = serviceIdentifiers[index];\n    var injectIdentifier = (metadata.inject || metadata.multiInject);\n    serviceIdentifier = (injectIdentifier) ? (injectIdentifier) : serviceIdentifier;\n    if (serviceIdentifier instanceof inject_1.LazyServiceIdentifer) {\n        serviceIdentifier = serviceIdentifier.unwrap();\n    }\n    if (isManaged) {\n        var isObject = serviceIdentifier === Object;\n        var isFunction = serviceIdentifier === Function;\n        var isUndefined = serviceIdentifier === undefined;\n        var isUnknownType = (isObject || isFunction || isUndefined);\n        if (!isBaseClass && isUnknownType) {\n            var msg = ERROR_MSGS.MISSING_INJECT_ANNOTATION + \" argument \" + index + \" in class \" + constructorName + \".\";\n            throw new Error(msg);\n        }\n        var target = new target_1.Target(literal_types_1.TargetTypeEnum.ConstructorArgument, metadata.targetName, serviceIdentifier);\n        target.metadata = targetMetadata;\n        return target;\n    }\n    return null;\n}\nfunction getConstructorArgsAsTargets(isBaseClass, constructorName, serviceIdentifiers, constructorArgsMetadata, iterations) {\n    var targets = [];\n    for (var i = 0; i < iterations; i++) {\n        var index = i;\n        var target = getConstructorArgsAsTarget(index, isBaseClass, constructorName, serviceIdentifiers, constructorArgsMetadata);\n        if (target !== null) {\n            targets.push(target);\n        }\n    }\n    return targets;\n}\nfunction getClassPropsAsTargets(metadataReader, constructorFunc) {\n    var classPropsMetadata = metadataReader.getPropertiesMetadata(constructorFunc);\n    var targets = [];\n    var keys = Object.keys(classPropsMetadata);\n    for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n        var key = keys_1[_i];\n        var targetMetadata = classPropsMetadata[key];\n        var metadata = formatTargetMetadata(classPropsMetadata[key]);\n        var targetName = metadata.targetName || key;\n        var serviceIdentifier = (metadata.inject || metadata.multiInject);\n        var target = new target_1.Target(literal_types_1.TargetTypeEnum.ClassProperty, targetName, serviceIdentifier);\n        target.metadata = targetMetadata;\n        targets.push(target);\n    }\n    var baseConstructor = Object.getPrototypeOf(constructorFunc.prototype).constructor;\n    if (baseConstructor !== Object) {\n        var baseTargets = getClassPropsAsTargets(metadataReader, baseConstructor);\n        targets = targets.concat(baseTargets);\n    }\n    return targets;\n}\nfunction getBaseClassDependencyCount(metadataReader, func) {\n    var baseConstructor = Object.getPrototypeOf(func.prototype).constructor;\n    if (baseConstructor !== Object) {\n        var baseConstructorName = serialization_1.getFunctionName(baseConstructor);\n        var targets = getTargets(metadataReader, baseConstructorName, baseConstructor, true);\n        var metadata = targets.map(function (t) {\n            return t.metadata.filter(function (m) {\n                return m.key === METADATA_KEY.UNMANAGED_TAG;\n            });\n        });\n        var unmanagedCount = [].concat.apply([], metadata).length;\n        var dependencyCount = targets.length - unmanagedCount;\n        if (dependencyCount > 0) {\n            return dependencyCount;\n        }\n        else {\n            return getBaseClassDependencyCount(metadataReader, baseConstructor);\n        }\n    }\n    else {\n        return 0;\n    }\n}\nexports.getBaseClassDependencyCount = getBaseClassDependencyCount;\nfunction formatTargetMetadata(targetMetadata) {\n    var targetMetadataMap = {};\n    targetMetadata.forEach(function (m) {\n        targetMetadataMap[m.key.toString()] = m.value;\n    });\n    return {\n        inject: targetMetadataMap[METADATA_KEY.INJECT_TAG],\n        multiInject: targetMetadataMap[METADATA_KEY.MULTI_INJECT_TAG],\n        targetName: targetMetadataMap[METADATA_KEY.NAME_TAG],\n        unmanaged: targetMetadataMap[METADATA_KEY.UNMANAGED_TAG]\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar QueryableString = (function () {\n    function QueryableString(str) {\n        this.str = str;\n    }\n    QueryableString.prototype.startsWith = function (searchString) {\n        return this.str.indexOf(searchString) === 0;\n    };\n    QueryableString.prototype.endsWith = function (searchString) {\n        var reverseString = \"\";\n        var reverseSearchString = searchString.split(\"\").reverse().join(\"\");\n        reverseString = this.str.split(\"\").reverse().join(\"\");\n        return this.startsWith.call({ str: reverseString }, reverseSearchString);\n    };\n    QueryableString.prototype.contains = function (searchString) {\n        return (this.str.indexOf(searchString) !== -1);\n    };\n    QueryableString.prototype.equals = function (compareString) {\n        return this.str === compareString;\n    };\n    QueryableString.prototype.value = function () {\n        return this.str;\n    };\n    return QueryableString;\n}());\nexports.QueryableString = QueryableString;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar id_1 = require(\"../utils/id\");\nvar Request = (function () {\n    function Request(serviceIdentifier, parentContext, parentRequest, bindings, target) {\n        this.id = id_1.id();\n        this.serviceIdentifier = serviceIdentifier;\n        this.parentContext = parentContext;\n        this.parentRequest = parentRequest;\n        this.target = target;\n        this.childRequests = [];\n        this.bindings = (Array.isArray(bindings) ? bindings : [bindings]);\n        this.requestScope = parentRequest === null\n            ? new Map()\n            : null;\n    }\n    Request.prototype.addChildRequest = function (serviceIdentifier, bindings, target) {\n        var child = new Request(serviceIdentifier, this.parentContext, this, bindings, target);\n        this.childRequests.push(child);\n        return child;\n    };\n    return Request;\n}());\nexports.Request = Request;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar exceptions_1 = require(\"../utils/exceptions\");\nvar serialization_1 = require(\"../utils/serialization\");\nvar instantiation_1 = require(\"./instantiation\");\nvar invokeFactory = function (factoryType, serviceIdentifier, fn) {\n    try {\n        return fn();\n    }\n    catch (error) {\n        if (exceptions_1.isStackOverflowExeption(error)) {\n            throw new Error(ERROR_MSGS.CIRCULAR_DEPENDENCY_IN_FACTORY(factoryType, serviceIdentifier.toString()));\n        }\n        else {\n            throw error;\n        }\n    }\n};\nvar _resolveRequest = function (requestScope) {\n    return function (request) {\n        request.parentContext.setCurrentRequest(request);\n        var bindings = request.bindings;\n        var childRequests = request.childRequests;\n        var targetIsAnArray = request.target && request.target.isArray();\n        var targetParentIsNotAnArray = !request.parentRequest ||\n            !request.parentRequest.target ||\n            !request.target ||\n            !request.parentRequest.target.matchesArray(request.target.serviceIdentifier);\n        if (targetIsAnArray && targetParentIsNotAnArray) {\n            return childRequests.map(function (childRequest) {\n                var _f = _resolveRequest(requestScope);\n                return _f(childRequest);\n            });\n        }\n        else {\n            var result = null;\n            if (request.target.isOptional() && bindings.length === 0) {\n                return undefined;\n            }\n            var binding_1 = bindings[0];\n            var isSingleton = binding_1.scope === literal_types_1.BindingScopeEnum.Singleton;\n            var isRequestSingleton = binding_1.scope === literal_types_1.BindingScopeEnum.Request;\n            if (isSingleton && binding_1.activated) {\n                return binding_1.cache;\n            }\n            if (isRequestSingleton &&\n                requestScope !== null &&\n                requestScope.has(binding_1.id)) {\n                return requestScope.get(binding_1.id);\n            }\n            if (binding_1.type === literal_types_1.BindingTypeEnum.ConstantValue) {\n                result = binding_1.cache;\n            }\n            else if (binding_1.type === literal_types_1.BindingTypeEnum.Function) {\n                result = binding_1.cache;\n            }\n            else if (binding_1.type === literal_types_1.BindingTypeEnum.Constructor) {\n                result = binding_1.implementationType;\n            }\n            else if (binding_1.type === literal_types_1.BindingTypeEnum.DynamicValue && binding_1.dynamicValue !== null) {\n                result = invokeFactory(\"toDynamicValue\", binding_1.serviceIdentifier, function () { return binding_1.dynamicValue(request.parentContext); });\n            }\n            else if (binding_1.type === literal_types_1.BindingTypeEnum.Factory && binding_1.factory !== null) {\n                result = invokeFactory(\"toFactory\", binding_1.serviceIdentifier, function () { return binding_1.factory(request.parentContext); });\n            }\n            else if (binding_1.type === literal_types_1.BindingTypeEnum.Provider && binding_1.provider !== null) {\n                result = invokeFactory(\"toProvider\", binding_1.serviceIdentifier, function () { return binding_1.provider(request.parentContext); });\n            }\n            else if (binding_1.type === literal_types_1.BindingTypeEnum.Instance && binding_1.implementationType !== null) {\n                result = instantiation_1.resolveInstance(binding_1.implementationType, childRequests, _resolveRequest(requestScope));\n            }\n            else {\n                var serviceIdentifier = serialization_1.getServiceIdentifierAsString(request.serviceIdentifier);\n                throw new Error(ERROR_MSGS.INVALID_BINDING_TYPE + \" \" + serviceIdentifier);\n            }\n            if (typeof binding_1.onActivation === \"function\") {\n                result = binding_1.onActivation(request.parentContext, result);\n            }\n            if (isSingleton) {\n                binding_1.cache = result;\n                binding_1.activated = true;\n            }\n            if (isRequestSingleton &&\n                requestScope !== null &&\n                !requestScope.has(binding_1.id)) {\n                requestScope.set(binding_1.id, result);\n            }\n            return result;\n        }\n    };\n};\nfunction resolve(context) {\n    var _f = _resolveRequest(context.plan.rootRequest.requestScope);\n    return _f(context.plan.rootRequest);\n}\nexports.resolve = resolve;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar error_msgs_1 = require(\"../constants/error_msgs\");\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nfunction _injectProperties(instance, childRequests, resolveRequest) {\n    var propertyInjectionsRequests = childRequests.filter(function (childRequest) {\n        return (childRequest.target !== null &&\n            childRequest.target.type === literal_types_1.TargetTypeEnum.ClassProperty);\n    });\n    var propertyInjections = propertyInjectionsRequests.map(resolveRequest);\n    propertyInjectionsRequests.forEach(function (r, index) {\n        var propertyName = \"\";\n        propertyName = r.target.name.value();\n        var injection = propertyInjections[index];\n        instance[propertyName] = injection;\n    });\n    return instance;\n}\nfunction _createInstance(Func, injections) {\n    return new (Func.bind.apply(Func, [void 0].concat(injections)))();\n}\nfunction _postConstruct(constr, result) {\n    if (Reflect.hasMetadata(METADATA_KEY.POST_CONSTRUCT, constr)) {\n        var data = Reflect.getMetadata(METADATA_KEY.POST_CONSTRUCT, constr);\n        try {\n            result[data.value]();\n        }\n        catch (e) {\n            throw new Error(error_msgs_1.POST_CONSTRUCT_ERROR(constr.name, e.message));\n        }\n    }\n}\nfunction resolveInstance(constr, childRequests, resolveRequest) {\n    var result = null;\n    if (childRequests.length > 0) {\n        var constructorInjectionsRequests = childRequests.filter(function (childRequest) {\n            return (childRequest.target !== null && childRequest.target.type === literal_types_1.TargetTypeEnum.ConstructorArgument);\n        });\n        var constructorInjections = constructorInjectionsRequests.map(resolveRequest);\n        result = _createInstance(constr, constructorInjections);\n        result = _injectProperties(result, childRequests, resolveRequest);\n    }\n    else {\n        result = new constr();\n    }\n    _postConstruct(constr, result);\n    return result;\n}\nexports.resolveInstance = resolveInstance;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar binding_in_when_on_syntax_1 = require(\"./binding_in_when_on_syntax\");\nvar binding_when_on_syntax_1 = require(\"./binding_when_on_syntax\");\nvar BindingToSyntax = (function () {\n    function BindingToSyntax(binding) {\n        this._binding = binding;\n    }\n    BindingToSyntax.prototype.to = function (constructor) {\n        this._binding.type = literal_types_1.BindingTypeEnum.Instance;\n        this._binding.implementationType = constructor;\n        return new binding_in_when_on_syntax_1.BindingInWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toSelf = function () {\n        if (typeof this._binding.serviceIdentifier !== \"function\") {\n            throw new Error(\"\" + ERROR_MSGS.INVALID_TO_SELF_VALUE);\n        }\n        var self = this._binding.serviceIdentifier;\n        return this.to(self);\n    };\n    BindingToSyntax.prototype.toConstantValue = function (value) {\n        this._binding.type = literal_types_1.BindingTypeEnum.ConstantValue;\n        this._binding.cache = value;\n        this._binding.dynamicValue = null;\n        this._binding.implementationType = null;\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toDynamicValue = function (func) {\n        this._binding.type = literal_types_1.BindingTypeEnum.DynamicValue;\n        this._binding.cache = null;\n        this._binding.dynamicValue = func;\n        this._binding.implementationType = null;\n        return new binding_in_when_on_syntax_1.BindingInWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toConstructor = function (constructor) {\n        this._binding.type = literal_types_1.BindingTypeEnum.Constructor;\n        this._binding.implementationType = constructor;\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toFactory = function (factory) {\n        this._binding.type = literal_types_1.BindingTypeEnum.Factory;\n        this._binding.factory = factory;\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toFunction = function (func) {\n        if (typeof func !== \"function\") {\n            throw new Error(ERROR_MSGS.INVALID_FUNCTION_BINDING);\n        }\n        var bindingWhenOnSyntax = this.toConstantValue(func);\n        this._binding.type = literal_types_1.BindingTypeEnum.Function;\n        return bindingWhenOnSyntax;\n    };\n    BindingToSyntax.prototype.toAutoFactory = function (serviceIdentifier) {\n        this._binding.type = literal_types_1.BindingTypeEnum.Factory;\n        this._binding.factory = function (context) {\n            var autofactory = function () { return context.container.get(serviceIdentifier); };\n            return autofactory;\n        };\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toProvider = function (provider) {\n        this._binding.type = literal_types_1.BindingTypeEnum.Provider;\n        this._binding.provider = provider;\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toService = function (service) {\n        this.toDynamicValue(function (context) { return context.container.get(service); });\n    };\n    return BindingToSyntax;\n}());\nexports.BindingToSyntax = BindingToSyntax;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar binding_in_syntax_1 = require(\"./binding_in_syntax\");\nvar binding_on_syntax_1 = require(\"./binding_on_syntax\");\nvar binding_when_syntax_1 = require(\"./binding_when_syntax\");\nvar BindingInWhenOnSyntax = (function () {\n    function BindingInWhenOnSyntax(binding) {\n        this._binding = binding;\n        this._bindingWhenSyntax = new binding_when_syntax_1.BindingWhenSyntax(this._binding);\n        this._bindingOnSyntax = new binding_on_syntax_1.BindingOnSyntax(this._binding);\n        this._bindingInSyntax = new binding_in_syntax_1.BindingInSyntax(binding);\n    }\n    BindingInWhenOnSyntax.prototype.inRequestScope = function () {\n        return this._bindingInSyntax.inRequestScope();\n    };\n    BindingInWhenOnSyntax.prototype.inSingletonScope = function () {\n        return this._bindingInSyntax.inSingletonScope();\n    };\n    BindingInWhenOnSyntax.prototype.inTransientScope = function () {\n        return this._bindingInSyntax.inTransientScope();\n    };\n    BindingInWhenOnSyntax.prototype.when = function (constraint) {\n        return this._bindingWhenSyntax.when(constraint);\n    };\n    BindingInWhenOnSyntax.prototype.whenTargetNamed = function (name) {\n        return this._bindingWhenSyntax.whenTargetNamed(name);\n    };\n    BindingInWhenOnSyntax.prototype.whenTargetIsDefault = function () {\n        return this._bindingWhenSyntax.whenTargetIsDefault();\n    };\n    BindingInWhenOnSyntax.prototype.whenTargetTagged = function (tag, value) {\n        return this._bindingWhenSyntax.whenTargetTagged(tag, value);\n    };\n    BindingInWhenOnSyntax.prototype.whenInjectedInto = function (parent) {\n        return this._bindingWhenSyntax.whenInjectedInto(parent);\n    };\n    BindingInWhenOnSyntax.prototype.whenParentNamed = function (name) {\n        return this._bindingWhenSyntax.whenParentNamed(name);\n    };\n    BindingInWhenOnSyntax.prototype.whenParentTagged = function (tag, value) {\n        return this._bindingWhenSyntax.whenParentTagged(tag, value);\n    };\n    BindingInWhenOnSyntax.prototype.whenAnyAncestorIs = function (ancestor) {\n        return this._bindingWhenSyntax.whenAnyAncestorIs(ancestor);\n    };\n    BindingInWhenOnSyntax.prototype.whenNoAncestorIs = function (ancestor) {\n        return this._bindingWhenSyntax.whenNoAncestorIs(ancestor);\n    };\n    BindingInWhenOnSyntax.prototype.whenAnyAncestorNamed = function (name) {\n        return this._bindingWhenSyntax.whenAnyAncestorNamed(name);\n    };\n    BindingInWhenOnSyntax.prototype.whenAnyAncestorTagged = function (tag, value) {\n        return this._bindingWhenSyntax.whenAnyAncestorTagged(tag, value);\n    };\n    BindingInWhenOnSyntax.prototype.whenNoAncestorNamed = function (name) {\n        return this._bindingWhenSyntax.whenNoAncestorNamed(name);\n    };\n    BindingInWhenOnSyntax.prototype.whenNoAncestorTagged = function (tag, value) {\n        return this._bindingWhenSyntax.whenNoAncestorTagged(tag, value);\n    };\n    BindingInWhenOnSyntax.prototype.whenAnyAncestorMatches = function (constraint) {\n        return this._bindingWhenSyntax.whenAnyAncestorMatches(constraint);\n    };\n    BindingInWhenOnSyntax.prototype.whenNoAncestorMatches = function (constraint) {\n        return this._bindingWhenSyntax.whenNoAncestorMatches(constraint);\n    };\n    BindingInWhenOnSyntax.prototype.onActivation = function (handler) {\n        return this._bindingOnSyntax.onActivation(handler);\n    };\n    return BindingInWhenOnSyntax;\n}());\nexports.BindingInWhenOnSyntax = BindingInWhenOnSyntax;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar binding_when_on_syntax_1 = require(\"./binding_when_on_syntax\");\nvar BindingInSyntax = (function () {\n    function BindingInSyntax(binding) {\n        this._binding = binding;\n    }\n    BindingInSyntax.prototype.inRequestScope = function () {\n        this._binding.scope = literal_types_1.BindingScopeEnum.Request;\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    BindingInSyntax.prototype.inSingletonScope = function () {\n        this._binding.scope = literal_types_1.BindingScopeEnum.Singleton;\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    BindingInSyntax.prototype.inTransientScope = function () {\n        this._binding.scope = literal_types_1.BindingScopeEnum.Transient;\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    return BindingInSyntax;\n}());\nexports.BindingInSyntax = BindingInSyntax;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ContainerSnapshot = (function () {\n    function ContainerSnapshot() {\n    }\n    ContainerSnapshot.of = function (bindings, middleware) {\n        var snapshot = new ContainerSnapshot();\n        snapshot.bindings = bindings;\n        snapshot.middleware = middleware;\n        return snapshot;\n    };\n    return ContainerSnapshot;\n}());\nexports.ContainerSnapshot = ContainerSnapshot;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar Lookup = (function () {\n    function Lookup() {\n        this._map = new Map();\n    }\n    Lookup.prototype.getMap = function () {\n        return this._map;\n    };\n    Lookup.prototype.add = function (serviceIdentifier, value) {\n        if (serviceIdentifier === null || serviceIdentifier === undefined) {\n            throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n        }\n        if (value === null || value === undefined) {\n            throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n        }\n        var entry = this._map.get(serviceIdentifier);\n        if (entry !== undefined) {\n            entry.push(value);\n            this._map.set(serviceIdentifier, entry);\n        }\n        else {\n            this._map.set(serviceIdentifier, [value]);\n        }\n    };\n    Lookup.prototype.get = function (serviceIdentifier) {\n        if (serviceIdentifier === null || serviceIdentifier === undefined) {\n            throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n        }\n        var entry = this._map.get(serviceIdentifier);\n        if (entry !== undefined) {\n            return entry;\n        }\n        else {\n            throw new Error(ERROR_MSGS.KEY_NOT_FOUND);\n        }\n    };\n    Lookup.prototype.remove = function (serviceIdentifier) {\n        if (serviceIdentifier === null || serviceIdentifier === undefined) {\n            throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n        }\n        if (!this._map.delete(serviceIdentifier)) {\n            throw new Error(ERROR_MSGS.KEY_NOT_FOUND);\n        }\n    };\n    Lookup.prototype.removeByCondition = function (condition) {\n        var _this = this;\n        this._map.forEach(function (entries, key) {\n            var updatedEntries = entries.filter(function (entry) { return !condition(entry); });\n            if (updatedEntries.length > 0) {\n                _this._map.set(key, updatedEntries);\n            }\n            else {\n                _this._map.delete(key);\n            }\n        });\n    };\n    Lookup.prototype.hasKey = function (serviceIdentifier) {\n        if (serviceIdentifier === null || serviceIdentifier === undefined) {\n            throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n        }\n        return this._map.has(serviceIdentifier);\n    };\n    Lookup.prototype.clone = function () {\n        var copy = new Lookup();\n        this._map.forEach(function (value, key) {\n            value.forEach(function (b) { return copy.add(key, b.clone()); });\n        });\n        return copy;\n    };\n    Lookup.prototype.traverse = function (func) {\n        this._map.forEach(function (value, key) {\n            func(key, value);\n        });\n    };\n    return Lookup;\n}());\nexports.Lookup = Lookup;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar id_1 = require(\"../utils/id\");\nvar ContainerModule = (function () {\n    function ContainerModule(registry) {\n        this.id = id_1.id();\n        this.registry = registry;\n    }\n    return ContainerModule;\n}());\nexports.ContainerModule = ContainerModule;\nvar AsyncContainerModule = (function () {\n    function AsyncContainerModule(registry) {\n        this.id = id_1.id();\n        this.registry = registry;\n    }\n    return AsyncContainerModule;\n}());\nexports.AsyncContainerModule = AsyncContainerModule;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ERRORS_MSGS = require(\"../constants/error_msgs\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nfunction injectable() {\n    return function (target) {\n        if (Reflect.hasOwnMetadata(METADATA_KEY.PARAM_TYPES, target)) {\n            throw new Error(ERRORS_MSGS.DUPLICATED_INJECTABLE_DECORATOR);\n        }\n        var types = Reflect.getMetadata(METADATA_KEY.DESIGN_PARAM_TYPES, target) || [];\n        Reflect.defineMetadata(METADATA_KEY.PARAM_TYPES, types, target);\n        return target;\n    };\n}\nexports.injectable = injectable;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar metadata_1 = require(\"../planning/metadata\");\nvar decorator_utils_1 = require(\"./decorator_utils\");\nfunction tagged(metadataKey, metadataValue) {\n    return function (target, targetKey, index) {\n        var metadata = new metadata_1.Metadata(metadataKey, metadataValue);\n        if (typeof index === \"number\") {\n            decorator_utils_1.tagParameter(target, targetKey, index, metadata);\n        }\n        else {\n            decorator_utils_1.tagProperty(target, targetKey, metadata);\n        }\n    };\n}\nexports.tagged = tagged;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nvar decorator_utils_1 = require(\"./decorator_utils\");\nfunction named(name) {\n    return function (target, targetKey, index) {\n        var metadata = new metadata_1.Metadata(METADATA_KEY.NAMED_TAG, name);\n        if (typeof index === \"number\") {\n            decorator_utils_1.tagParameter(target, targetKey, index, metadata);\n        }\n        else {\n            decorator_utils_1.tagProperty(target, targetKey, metadata);\n        }\n    };\n}\nexports.named = named;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nvar decorator_utils_1 = require(\"./decorator_utils\");\nfunction optional() {\n    return function (target, targetKey, index) {\n        var metadata = new metadata_1.Metadata(METADATA_KEY.OPTIONAL_TAG, true);\n        if (typeof index === \"number\") {\n            decorator_utils_1.tagParameter(target, targetKey, index, metadata);\n        }\n        else {\n            decorator_utils_1.tagProperty(target, targetKey, metadata);\n        }\n    };\n}\nexports.optional = optional;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nvar decorator_utils_1 = require(\"./decorator_utils\");\nfunction unmanaged() {\n    return function (target, targetKey, index) {\n        var metadata = new metadata_1.Metadata(METADATA_KEY.UNMANAGED_TAG, true);\n        decorator_utils_1.tagParameter(target, targetKey, index, metadata);\n    };\n}\nexports.unmanaged = unmanaged;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nvar decorator_utils_1 = require(\"./decorator_utils\");\nfunction multiInject(serviceIdentifier) {\n    return function (target, targetKey, index) {\n        var metadata = new metadata_1.Metadata(METADATA_KEY.MULTI_INJECT_TAG, serviceIdentifier);\n        if (typeof index === \"number\") {\n            decorator_utils_1.tagParameter(target, targetKey, index, metadata);\n        }\n        else {\n            decorator_utils_1.tagProperty(target, targetKey, metadata);\n        }\n    };\n}\nexports.multiInject = multiInject;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nvar decorator_utils_1 = require(\"./decorator_utils\");\nfunction targetName(name) {\n    return function (target, targetKey, index) {\n        var metadata = new metadata_1.Metadata(METADATA_KEY.NAME_TAG, name);\n        decorator_utils_1.tagParameter(target, targetKey, index, metadata);\n    };\n}\nexports.targetName = targetName;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ERRORS_MSGS = require(\"../constants/error_msgs\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nfunction postConstruct() {\n    return function (target, propertyKey, descriptor) {\n        var metadata = new metadata_1.Metadata(METADATA_KEY.POST_CONSTRUCT, propertyKey);\n        if (Reflect.hasOwnMetadata(METADATA_KEY.POST_CONSTRUCT, target.constructor)) {\n            throw new Error(ERRORS_MSGS.MULTIPLE_POST_CONSTRUCT_METHODS);\n        }\n        Reflect.defineMetadata(METADATA_KEY.POST_CONSTRUCT, metadata, target.constructor);\n    };\n}\nexports.postConstruct = postConstruct;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BindingScopeEnum = {\n    Request: \"Request\",\n    Singleton: \"Singleton\",\n    Transient: \"Transient\"\n};\nexports.BindingScopeEnum = BindingScopeEnum;\nvar BindingTypeEnum = {\n    ConstantValue: \"ConstantValue\",\n    Constructor: \"Constructor\",\n    DynamicValue: \"DynamicValue\",\n    Factory: \"Factory\",\n    Function: \"Function\",\n    Instance: \"Instance\",\n    Invalid: \"Invalid\",\n    Provider: \"Provider\"\n};\nexports.BindingTypeEnum = BindingTypeEnum;\nvar TargetTypeEnum = {\n    ClassProperty: \"ClassProperty\",\n    ConstructorArgument: \"ConstructorArgument\",\n    Variable: \"Variable\"\n};\nexports.TargetTypeEnum = TargetTypeEnum;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.multiBindToService = function (container) {\n    return function (service) {\n        return function () {\n            var types = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                types[_i] = arguments[_i];\n            }\n            return types.forEach(function (t) { return container.bind(t).toService(service); });\n        };\n    };\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst InternalDispatcherException_1 = require(\"./InternalDispatcherException\");\nclass InternalDispatcherListenerIsNotRegisteredException extends InternalDispatcherException_1.InternalDispatcherException {\n}\nexports.InternalDispatcherListenerIsNotRegisteredException = InternalDispatcherListenerIsNotRegisteredException;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass InternalDispatcherException extends Error {\n}\nexports.InternalDispatcherException = InternalDispatcherException;\n","exports = module.exports = stringify\nexports.getSerialize = serializer\n\nfunction stringify(obj, replacer, spaces, cycleReplacer) {\n  return JSON.stringify(obj, serializer(replacer, cycleReplacer), spaces)\n}\n\nfunction serializer(replacer, cycleReplacer) {\n  var stack = [], keys = []\n\n  if (cycleReplacer == null) cycleReplacer = function(key, value) {\n    if (stack[0] === value) return \"[Circular ~]\"\n    return \"[Circular ~.\" + keys.slice(0, stack.indexOf(value)).join(\".\") + \"]\"\n  }\n\n  return function(key, value) {\n    if (stack.length > 0) {\n      var thisPos = stack.indexOf(this)\n      ~thisPos ? stack.splice(thisPos + 1) : stack.push(this)\n      ~thisPos ? keys.splice(thisPos, Infinity, key) : keys.push(key)\n      if (~stack.indexOf(value)) value = cycleReplacer.call(this, key, value)\n    }\n    else stack.push(value)\n\n    return replacer == null ? value : replacer.call(this, key, value)\n  }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst CoreException_1 = require(\"./CoreException\");\nclass CoreServiceIsNotRegisteredException extends CoreException_1.CoreException {\n}\nexports.CoreServiceIsNotRegisteredException = CoreServiceIsNotRegisteredException;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass CoreException extends Error {\n}\nexports.CoreException = CoreException;\n","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst inversify_1 = require(\"inversify\");\nconst BrowserEnum_1 = require(\"../BrowserEnum\");\nconst MARIO_TYPES_1 = require(\"../MARIO_TYPES\");\nlet Extension = class Extension {\n    constructor(browserEnum) {\n        this.browserEnum = browserEnum;\n        this.isOnInstalledFired = false;\n        this.listeners = [];\n        chrome.runtime.onInstalled.addListener((details) => {\n            this.isOnInstalledFired = true;\n            this.installedDetails = details;\n            this.handleOnInstall();\n        });\n    }\n    onInstall(callback) {\n        this.listeners.push({ callback });\n        if (this.isOnInstalledFired) {\n            this.handleOnInstall();\n        }\n    }\n    setUninstallURL(url, callback) {\n        chrome.runtime.setUninstallURL(url, callback);\n    }\n    manifest() {\n        return chrome.runtime.getManifest();\n    }\n    browser() {\n        return this.browserEnum;\n    }\n    handleOnInstall() {\n        for (const listener of this.listeners) {\n            listener.callback(this.installedDetails);\n        }\n        this.listeners = [];\n    }\n};\nExtension = __decorate([\n    inversify_1.injectable(),\n    __param(0, inversify_1.inject(MARIO_TYPES_1.MARIO_TYPES.BROWSER)),\n    __metadata(\"design:paramtypes\", [String])\n], Extension);\nexports.Extension = Extension;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ExternalDispatcherException_1 = require(\"./ExternalDispatcherException\");\nclass ExternalDispatcherListenerIsNotFoundException extends ExternalDispatcherException_1.ExternalDispatcherException {\n}\nexports.ExternalDispatcherListenerIsNotFoundException = ExternalDispatcherListenerIsNotFoundException;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass ExternalDispatcherException extends Error {\n}\nexports.ExternalDispatcherException = ExternalDispatcherException;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass MarioModule {\n    constructor(_core) {\n        this._core = _core;\n    }\n    mario() {\n        return this._core;\n    }\n}\nexports.MarioModule = MarioModule;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nfunction tagParameter(annotationTarget, propertyName, parameterIndex, metadata) {\n    var metadataKey = METADATA_KEY.TAGGED;\n    _tagParameterOrProperty(metadataKey, annotationTarget, propertyName, metadata, parameterIndex);\n}\nexports.tagParameter = tagParameter;\nfunction tagProperty(annotationTarget, propertyName, metadata) {\n    var metadataKey = METADATA_KEY.TAGGED_PROP;\n    _tagParameterOrProperty(metadataKey, annotationTarget.constructor, propertyName, metadata);\n}\nexports.tagProperty = tagProperty;\nfunction _tagParameterOrProperty(metadataKey, annotationTarget, propertyName, metadata, parameterIndex) {\n    var paramsOrPropertiesMetadata = {};\n    var isParameterDecorator = (typeof parameterIndex === \"number\");\n    var key = (parameterIndex !== undefined && isParameterDecorator) ? parameterIndex.toString() : propertyName;\n    if (isParameterDecorator && propertyName !== undefined) {\n        throw new Error(ERROR_MSGS.INVALID_DECORATOR_OPERATION);\n    }\n    if (Reflect.hasOwnMetadata(metadataKey, annotationTarget)) {\n        paramsOrPropertiesMetadata = Reflect.getMetadata(metadataKey, annotationTarget);\n    }\n    var paramOrPropertyMetadata = paramsOrPropertiesMetadata[key];\n    if (!Array.isArray(paramOrPropertyMetadata)) {\n        paramOrPropertyMetadata = [];\n    }\n    else {\n        for (var _i = 0, paramOrPropertyMetadata_1 = paramOrPropertyMetadata; _i < paramOrPropertyMetadata_1.length; _i++) {\n            var m = paramOrPropertyMetadata_1[_i];\n            if (m.key === metadata.key) {\n                throw new Error(ERROR_MSGS.DUPLICATED_METADATA + \" \" + m.key.toString());\n            }\n        }\n    }\n    paramOrPropertyMetadata.push(metadata);\n    paramsOrPropertiesMetadata[key] = paramOrPropertyMetadata;\n    Reflect.defineMetadata(metadataKey, paramsOrPropertiesMetadata, annotationTarget);\n}\nfunction _decorate(decorators, target) {\n    Reflect.decorate(decorators, target);\n}\nfunction _param(paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); };\n}\nfunction decorate(decorator, target, parameterIndex) {\n    if (typeof parameterIndex === \"number\") {\n        _decorate([_param(parameterIndex, decorator)], target);\n    }\n    else if (typeof parameterIndex === \"string\") {\n        Reflect.decorate([decorator], target, parameterIndex);\n    }\n    else {\n        _decorate([decorator], target);\n    }\n}\nexports.decorate = decorate;\n","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst inversify_1 = require(\"inversify\");\nconst MarioEvent_1 = require(\"../../../Core/MarioEvent\");\nconst MARIO_TYPES_1 = require(\"../../../MARIO_TYPES\");\nconst CacheEvents_1 = require(\"./CacheEvents\");\nlet CacheService = class CacheService {\n    constructor(logger, dispatcher) {\n        this.logger = logger;\n        this.dispatcher = dispatcher;\n    }\n    clear() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.dispatcher.emit(new MarioEvent_1.MarioEvent(CacheEvents_1.CacheEvents.BEFORE_CLEAR_CACHE));\n            yield this.cacheRemoveAll();\n            yield this.dispatcher.emit(new MarioEvent_1.MarioEvent(CacheEvents_1.CacheEvents.AFTER_CLEAR_CACHE));\n        });\n    }\n    cacheRemoveAll() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => {\n                try {\n                    chrome.browsingData.removeCache({}, () => {\n                        resolve();\n                    });\n                }\n                catch (e) {\n                    this.logger.error(e);\n                    reject();\n                }\n            });\n        });\n    }\n};\nCacheService.EVENT_BEFORE_CLEAR_CACHE = 'beforeClearCache';\nCacheService.EVENT_AFTER_CLEAR_CACHE = 'afterClearCache';\nCacheService = __decorate([\n    inversify_1.injectable(),\n    __param(0, inversify_1.inject(MARIO_TYPES_1.MARIO_TYPES.LOGGER_SERVICE)),\n    __param(1, inversify_1.inject(MARIO_TYPES_1.MARIO_TYPES.INTERNAL_DISPATCHER)),\n    __metadata(\"design:paramtypes\", [Object, Object])\n], CacheService);\nexports.CacheService = CacheService;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CacheEvents;\n(function (CacheEvents) {\n    CacheEvents[\"BEFORE_CLEAR_CACHE\"] = \"BEFORE_CLEAR_CACHE\";\n    CacheEvents[\"AFTER_CLEAR_CACHE\"] = \"AFTER_CLEAR_CACHE\";\n})(CacheEvents = exports.CacheEvents || (exports.CacheEvents = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar NavigationServiceEvents;\n(function (NavigationServiceEvents) {\n    NavigationServiceEvents[\"NAVIGATION_ON_BEFORE_NAVIGATE\"] = \"NAVIGATION_ON_BEFORE_NAVIGATE\";\n    NavigationServiceEvents[\"NAVIGATION_ON_COMMITTED\"] = \"NAVIGATION_ON_COMMITTED\";\n    NavigationServiceEvents[\"NAVIGATION_ON_DOM_CONTENT_LOADED\"] = \"NAVIGATION_ON_DOM_CONTENT_LOADED\";\n    NavigationServiceEvents[\"NAVIGATION_ON_COMPLETED\"] = \"NAVIGATION_ON_COMPLETED\";\n    NavigationServiceEvents[\"NAVIGATION_ON_ERROR_OCCURRED\"] = \"NAVIGATION_ON_ERROR_OCCURRED\";\n    NavigationServiceEvents[\"NAVIGATION_ON_CREATED_NAVIGATION_TARGET\"] = \"NAVIGATION_ON_CREATED_NAVIGATION_TARGET\";\n    NavigationServiceEvents[\"NAVIGATION_ON_REFERENCE_FRAGMNENT_UPDATED\"] = \"NAVIGATION_ON_REFERENCE_FRAGMNENT_UPDATED\";\n    NavigationServiceEvents[\"NAVIGATION_ON_TAB_REPLACED\"] = \"NAVIGATION_ON_TAB_REMOVED\";\n    NavigationServiceEvents[\"NAVIGATION_ON_HISTORY_STATE_UPDATED\"] = \"NAVIGATION_ON_HISTORY_STATE_UPDATED\";\n})(NavigationServiceEvents = exports.NavigationServiceEvents || (exports.NavigationServiceEvents = {}));\n","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst inversify_1 = require(\"inversify\");\nconst index_1 = require(\"../../../index\");\nconst MARIO_TYPES_1 = require(\"../../../MARIO_TYPES\");\nconst WebRequestServiceEvents_1 = require(\"./WebRequestServiceEvents\");\nlet WebRequestService = class WebRequestService {\n    constructor(dispatcherService) {\n        this.dispatcherService = dispatcherService;\n        this.isListenOnBeforeRequest = false;\n        this.isListenOnBeforeSendHeaders = false;\n        this.isListenOnSendHeaders = false;\n        this.isListenOnHeadersReceived = false;\n        this.isListenOnAuthRequired = false;\n        this.isListenOnResponseStarted = false;\n        this.isListenOnBeforeRedirect = false;\n        this.isListenOnCompleted = false;\n        this.isListenOnErrorOccurred = false;\n        this.isListenOnActionIgnored = false;\n    }\n    listenOnBeforeRequest(filter, opt_extraInfoSpec) {\n        if (!this.isListenOnBeforeRequest) {\n            this.isListenOnBeforeRequest = true;\n            chrome.webRequest.onBeforeRequest.addListener((details) => {\n                const event = new index_1.MarioEvent(WebRequestServiceEvents_1.WebRequestServiceEvents.WEB_REQUEST_ON_BEFORE_REQUEST, { details });\n                this.dispatcherService.emit(event).then();\n            }, filter, opt_extraInfoSpec);\n        }\n    }\n    listenOnBeforeSendHeaders(filter, opt_extraInfoSpec) {\n        if (!this.isListenOnBeforeSendHeaders) {\n            this.isListenOnBeforeSendHeaders = true;\n            chrome.webRequest.onBeforeSendHeaders.addListener((details) => {\n                const event = new index_1.MarioEvent(WebRequestServiceEvents_1.WebRequestServiceEvents.WEB_REQUEST_ON_BEFORE_SEND_HEADERS, { details });\n                this.dispatcherService.emit(event).then();\n            }, filter, opt_extraInfoSpec);\n        }\n    }\n    listenOnSendHeaders(filter, opt_extraInfoSpec) {\n        if (!this.isListenOnSendHeaders) {\n            this.isListenOnSendHeaders = true;\n            chrome.webRequest.onSendHeaders.addListener((details) => {\n                const event = new index_1.MarioEvent(WebRequestServiceEvents_1.WebRequestServiceEvents.WEB_REQUEST_ON_SEND_HEADERS, { details });\n                this.dispatcherService.emit(event).then();\n            }, filter, opt_extraInfoSpec);\n        }\n    }\n    listenOnHeadersReceived(filter, opt_extraInfoSpec) {\n        if (!this.isListenOnHeadersReceived) {\n            this.isListenOnHeadersReceived = true;\n            chrome.webRequest.onHeadersReceived.addListener((details) => {\n                const event = new index_1.MarioEvent(WebRequestServiceEvents_1.WebRequestServiceEvents.WEB_REQUEST_ON_HEADERS_RECEIVED, { details });\n                this.dispatcherService.emit(event).then();\n            }, filter, opt_extraInfoSpec);\n        }\n    }\n    listenOnAuthRequired(filter, opt_extraInfoSpec) {\n        if (!this.isListenOnAuthRequired) {\n            this.isListenOnAuthRequired = true;\n            chrome.webRequest.onAuthRequired.addListener((details, callback) => {\n                const event = new index_1.MarioEvent(WebRequestServiceEvents_1.WebRequestServiceEvents.WEB_REQUEST_ON_AUTH_REQUIRED, { details, callback });\n                this.dispatcherService.emit(event).then();\n            }, filter, opt_extraInfoSpec);\n        }\n    }\n    listenOnResponseStarted(filter, opt_extraInfoSpec) {\n        if (!this.isListenOnResponseStarted) {\n            this.isListenOnResponseStarted = true;\n            chrome.webRequest.onResponseStarted.addListener((details) => {\n                const event = new index_1.MarioEvent(WebRequestServiceEvents_1.WebRequestServiceEvents.WEB_REQUEST_ON_RESPONSE_STARTED, { details });\n                this.dispatcherService.emit(event).then();\n            }, filter, opt_extraInfoSpec);\n        }\n    }\n    listenOnBeforeRedirect(filter, opt_extraInfoSpec) {\n        if (!this.isListenOnBeforeRedirect) {\n            this.isListenOnBeforeRedirect = true;\n            chrome.webRequest.onBeforeRedirect.addListener((details) => {\n                const event = new index_1.MarioEvent(WebRequestServiceEvents_1.WebRequestServiceEvents.WEB_REQUEST_ON_BEFORE_REDIRECT, { details });\n                this.dispatcherService.emit(event).then();\n            }, filter, opt_extraInfoSpec);\n        }\n    }\n    listenOnCompleted(filter, opt_extraInfoSpec) {\n        if (!this.isListenOnCompleted) {\n            this.isListenOnCompleted = true;\n            chrome.webRequest.onCompleted.addListener((details) => {\n                const event = new index_1.MarioEvent(WebRequestServiceEvents_1.WebRequestServiceEvents.WEB_REQUEST_ON_COMPLETED, { details });\n                this.dispatcherService.emit(event).then();\n            }, filter, opt_extraInfoSpec);\n        }\n    }\n    listenOnErrorOccurred(filter, opt_extraInfoSpec) {\n        if (!this.isListenOnErrorOccurred) {\n            this.isListenOnErrorOccurred = true;\n            chrome.webRequest.onErrorOccurred.addListener((details) => {\n                const event = new index_1.MarioEvent(WebRequestServiceEvents_1.WebRequestServiceEvents.WEB_REQUEST_ON_ERROR_OCCURRED, { details });\n                this.dispatcherService.emit(event).then();\n            }, filter, opt_extraInfoSpec);\n        }\n    }\n    listenOnActionIgnored(filter, opt_extraInfoSpec) {\n        if (!this.isListenOnActionIgnored) {\n            this.isListenOnActionIgnored = true;\n            chrome.webRequest.onActionIgnored.addListener((details) => {\n                const event = new index_1.MarioEvent(WebRequestServiceEvents_1.WebRequestServiceEvents.WEB_REQUEST_ON_ACTION_IGNORED, { details });\n                this.dispatcherService.emit(event).then();\n            }, filter, opt_extraInfoSpec);\n        }\n    }\n    /**\n    * Needs to be called when the behavior of the webRequest handlers has changed to prevent incorrect handling due to caching.\n    * This function call is expensive. Don't call it often.\n    * @param handlerBehaviorChanged\n    * @returns {Promise<void>}\n    */\n    handlerBehaviorChanged() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => {\n                try {\n                    chrome.webRequest.handlerBehaviorChanged(() => resolve());\n                }\n                catch (e) {\n                    reject(e);\n                }\n            });\n        });\n    }\n};\nWebRequestService = __decorate([\n    inversify_1.injectable(),\n    __param(0, inversify_1.inject(MARIO_TYPES_1.MARIO_TYPES.INTERNAL_DISPATCHER)),\n    __metadata(\"design:paramtypes\", [Object])\n], WebRequestService);\nexports.WebRequestService = WebRequestService;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar WebRequestServiceEvents;\n(function (WebRequestServiceEvents) {\n    WebRequestServiceEvents[\"WEB_REQUEST_ON_BEFORE_REQUEST\"] = \"WEB_REQUEST_ON_BEFORE_REQUEST\";\n    WebRequestServiceEvents[\"WEB_REQUEST_ON_BEFORE_SEND_HEADERS\"] = \"WEB_REQUEST_ON_BEFORE_SEND_HEADERS\";\n    WebRequestServiceEvents[\"WEB_REQUEST_ON_SEND_HEADERS\"] = \"WEB_REQUEST_ON_SEND_HEADERS\";\n    WebRequestServiceEvents[\"WEB_REQUEST_ON_HEADERS_RECEIVED\"] = \"WEB_REQUEST_ON_HEADERS_RECEIVED\";\n    WebRequestServiceEvents[\"WEB_REQUEST_ON_AUTH_REQUIRED\"] = \"WEB_REQUEST_ON_AUTH_REQUIRED\";\n    WebRequestServiceEvents[\"WEB_REQUEST_ON_RESPONSE_STARTED\"] = \"WEB_REQUEST_ON_RESPONSE_STARTED\";\n    WebRequestServiceEvents[\"WEB_REQUEST_ON_BEFORE_REDIRECT\"] = \"WEB_REQUEST_ON_BEFORE_REDIRECT\";\n    WebRequestServiceEvents[\"WEB_REQUEST_ON_COMPLETED\"] = \"WEB_REQUEST_ON_COMPLETED\";\n    WebRequestServiceEvents[\"WEB_REQUEST_ON_ERROR_OCCURRED\"] = \"WEB_REQUEST_ON_ERROR_OCCURRED\";\n    WebRequestServiceEvents[\"WEB_REQUEST_ON_ACTION_IGNORED\"] = \"WEB_REQUEST_ON_ACTION_IGNORED\";\n})(WebRequestServiceEvents = exports.WebRequestServiceEvents || (exports.WebRequestServiceEvents = {}));\n","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * StorageService\n */\nconst inversify_1 = require(\"inversify\");\nlet StorageService = class StorageService {\n    get(key) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => {\n                chrome.storage.local.get(key, (data) => {\n                    const response = typeof data[key] !== 'undefined' ? data[key] : null;\n                    resolve(response);\n                });\n            });\n        });\n    }\n    set(key, value) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => {\n                const data = {};\n                data[key] = value;\n                chrome.storage.local.set(data, () => resolve());\n            });\n        });\n    }\n    has(key) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const value = yield this.get(key);\n            return value !== null;\n        });\n    }\n    remove(keys) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => {\n                try {\n                    chrome.storage.local.remove(keys, () => resolve());\n                }\n                catch (e) {\n                    reject(e);\n                }\n            });\n        });\n    }\n    clean() {\n        chrome.storage.local.clear();\n    }\n};\nStorageService = __decorate([\n    inversify_1.injectable()\n], StorageService);\nexports.StorageService = StorageService;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar idCounter = 0;\nfunction id() {\n    return idCounter++;\n}\nexports.id = id;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GoogleAnalyticsContentDispatcher = void 0;\nconst src_1 = require(\"@urbandevs/mario-core/dist/src\");\nconst GoogleAnalyticsEvents_1 = require(\"./GoogleAnalyticsEvents\");\nclass GoogleAnalyticsContentDispatcher {\n    constructor(dispatcher) {\n        this.dispatcher = dispatcher;\n    }\n    trackPage(data) {\n        const message = new src_1.MarioEvent(GoogleAnalyticsEvents_1.GoogleAnalyticsEvents.TRACK_PAGE, data);\n        this.dispatcher.emit(message);\n    }\n    trackEvent(data) {\n        const message = new src_1.MarioEvent(GoogleAnalyticsEvents_1.GoogleAnalyticsEvents.TRACK_EVENT, data);\n        this.dispatcher.emit(message);\n    }\n}\nexports.GoogleAnalyticsContentDispatcher = GoogleAnalyticsContentDispatcher;\n"],"sourceRoot":""}